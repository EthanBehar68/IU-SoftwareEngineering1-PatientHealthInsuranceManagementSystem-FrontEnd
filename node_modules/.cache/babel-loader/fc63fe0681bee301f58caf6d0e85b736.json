{"ast":null,"code":"import { SET_CURRENT_USER, UPDATE_CURRENT_USER } from \"../types\";\nimport { apiCall } from '../../services/api';\nimport { state_complete_assignment } from './assignments';\nexport const db_add_payment = data => dispatch => {\n  return apiCall('post', `/api/payments`, data).then(function (res) {\n    dispatch(state_complete_assignment(res[0]));\n    return {\n      complete: true\n    };\n  }).catch(function (err) {\n    return {\n      complete: false,\n      message: err.error\n    };\n  });\n};\nexport const db_add_cash_payment = data => dispatch => {\n  return apiCall('post', `/api/payments/cash`, data).then(function (res) {\n    dispatch(state_complete_assignment(res[0]));\n    return {\n      complete: true\n    };\n  }).catch(function (err) {\n    return {\n      complete: false,\n      message: err.error\n    };\n  });\n};\nexport const db_get_payment = id => {\n  return apiCall('get', `/api/payments/jobid/${id}`, null).then(function (res) {\n    return {\n      complete: true,\n      payment: res[0]\n    };\n  }).catch(function (err) {\n    return {\n      complete: false,\n      message: err.error\n    };\n  });\n};\nexport const db_get_worker_tot = body => {\n  return apiCall('post', `/api/payments/wtot`, body).then(function (res) {\n    return {\n      complete: true,\n      wtot: res\n    };\n  }).catch(function (err) {\n    return {\n      complete: false,\n      message: err.error\n    };\n  });\n};\nexport const db_complete_payout_link = data => {\n  return apiCall('post', `/api/payments/payoutflow`, data).then(function (res) {\n    return {\n      complete: true\n    };\n  }).catch(function (err) {\n    return {\n      complete: false,\n      message: err.error\n    };\n  });\n};\nexport const db_generate_stripe_link = account_id => {\n  return apiCall('post', `/api/payments/loginlink`, {\n    account_id: account_id\n  }).then(function (res) {\n    return {\n      complete: true,\n      loginlink: res.loginlink\n    };\n  }).catch(function (err) {\n    return {\n      complete: false,\n      message: err.error\n    };\n  });\n};","map":{"version":3,"sources":["/Users/jackjoliet/Documents/marketplace/front/src/store/actions/payments.js"],"names":["SET_CURRENT_USER","UPDATE_CURRENT_USER","apiCall","state_complete_assignment","db_add_payment","data","dispatch","then","res","complete","catch","err","message","error","db_add_cash_payment","db_get_payment","id","payment","db_get_worker_tot","body","wtot","db_complete_payout_link","db_generate_stripe_link","account_id","loginlink"],"mappings":"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","sourcesContent":["import {SET_CURRENT_USER, UPDATE_CURRENT_USER} from \"../types\";\nimport {apiCall} from '../../services/api';\nimport {state_complete_assignment} from './assignments';\n\nexport const db_add_payment = data => dispatch => {\n\treturn apiCall('post', `/api/payments`, data)\n\t.then(function(res) {\n\t\tdispatch(state_complete_assignment(res[0]));\n\t\treturn {complete: true};\n\t})\n\t.catch(function(err) {\n\t\treturn {complete: false, message: err.error};\n\t});\n}\n\nexport const db_add_cash_payment = data => dispatch => {\n\treturn apiCall('post', `/api/payments/cash`, data)\n\t.then(function(res) {\n\t\tdispatch(state_complete_assignment(res[0]));\n\t\treturn {complete: true};\n\t})\n\t.catch(function(err) {\n\t\treturn {complete: false, message: err.error};\n\t});\n}\n\nexport const db_get_payment = id => {\n\treturn apiCall('get', `/api/payments/jobid/${id}`, null)\n\t.then(function(res) {\n\t\treturn {complete: true, payment: res[0]};\n\t})\n\t.catch(function(err) {\n\t\treturn {complete: false, message: err.error};\n\t});\n}\n\nexport const db_get_worker_tot = body => {\n\treturn apiCall('post', `/api/payments/wtot`, body)\n\t.then(function(res) {\n\t\treturn {complete: true, wtot: res};\n\t})\n\t.catch(function(err) {\n\t\treturn {complete: false, message: err.error};\n\t});\n}\n\nexport const db_complete_payout_link = data => {\n\treturn apiCall('post', `/api/payments/payoutflow`, data)\n\t.then(function(res) {\n\t\treturn {complete: true};\n\t})\n\t.catch(function(err) {\n\t\treturn {complete: false, message: err.error};\n\t});\n}\n\nexport const db_generate_stripe_link = account_id => {\n\treturn apiCall('post', `/api/payments/loginlink`, {account_id: account_id})\n\t.then(function(res) {\n\t\treturn {complete: true, loginlink: res.loginlink};\n\t})\n\t.catch(function(err) {\n\t\treturn {complete: false, message: err.error};\n\t});\n}\n\n"]},"metadata":{},"sourceType":"module"}