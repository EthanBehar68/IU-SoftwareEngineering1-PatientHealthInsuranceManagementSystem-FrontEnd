{"ast":null,"code":"import _objectSpread from \"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/jackjoliet/Documents/marketplace/front/src/containers/Worker/WorkerDashboard.js\";\nimport React, { Component, Fragment } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport { db_get_coming_job } from \"../../store/actions/jobs\";\nimport { db_get_worker_tot } from \"../../store/actions/payments\";\nimport getTime from '../../utils/getTime';\nimport { WORKER_RATE, CUT } from '../../utils/constants';\nimport moment from 'moment';\nimport empty from 'is-empty';\nimport defaultPic from '../../images/defaultPic.png';\nimport findimg from '../../images/findimg.png';\nimport joelogo from '../../images/joelogowhite.png';\nimport WorkerNavbar from '../../components/Nav/WorkerNavbar';\nimport Calendar from '../../components/Graphics/Calendar';\nimport Loading from '../../components/Graphics/Loading';\nimport WorkerJobDetail from '../../components/Forms/WorkerJobDetail';\nimport WorkerCompleteJob from '../../components/Forms/WorkerCompleteJob';\n\nclass WorkerDashboard extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onHide = async e => {\n      const data = await db_get_coming_job(this.props.user.id);\n      this.setState(_objectSpread({}, this.state, {\n        job: data.complete ? data.data : null,\n        detail: false\n      }));\n      document.body.style.overflow = \"auto\";\n    };\n\n    this.setDetail = e => {\n      this.setState(_objectSpread({}, this.state, {\n        detail: true\n      }));\n      document.body.style.overflow = \"hidden\";\n    };\n\n    this.state = {\n      job: {},\n      wtot: 0.00,\n      stripe_amount: 0.00,\n      loaded: false,\n      detail: false\n    };\n  }\n\n  async componentDidMount() {\n    const data = await db_get_coming_job(this.props.user.id);\n    const wtot = await db_get_worker_tot({\n      stripe_id: this.props.user.stripe_id,\n      user_id: this.props.user.id\n    });\n    this.setState(_objectSpread({}, this.state, {\n      job: data.complete ? data.data : null,\n      wtot: wtot.complete ? (wtot.wtot.tot_earnings / 100).toFixed(2) : 0.00,\n      stripe_amount: wtot.complete ? (wtot.wtot.available[0].amount / 100).toFixed(2) : 0.00,\n      loaded: true\n    }));\n  }\n\n  render() {\n    const _this$state = this.state,\n          wtot = _this$state.wtot,\n          stripe_amount = _this$state.stripe_amount;\n    const user = this.props.user;\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(WorkerNavbar, {\n      active: \"home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), this.state.detail && (this.state.job.status == \"In-Progress\" ? React.createElement(WorkerCompleteJob, {\n      hide: this.onHide,\n      job: this.state.job,\n      scheduled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }) : React.createElement(WorkerJobDetail, {\n      hide: this.onHide,\n      job: this.state.job,\n      scheduled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    })), !this.state.loaded && React.createElement(Loading, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), this.state.loaded && React.createElement(\"div\", {\n      className: \"dashboard-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"dashboard-head-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"worker-head-profile\",\n      src: `https://joesappstorage.blob.core.windows.net/${this.props.user.id}worker/profile`,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Welcome, \", this.props.user.first, \" \", this.props.user.last)), React.createElement(\"div\", {\n      className: \"dashboard-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, this.state.job != null && React.createElement(\"div\", {\n      className: \"dashboard-side\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"dashboard-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, !empty(this.state.job) && this.state.job.status == \"In-Progress\" ? \"IN-PROGRESS JOB\" : \"UPCOMING JOB\"), React.createElement(\"div\", {\n      className: \"calendar-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(Calendar, {\n      month: moment.utc(this.state.job.date).format(\"MMM\"),\n      day: moment.utc(this.state.job.date).format(\"DD\"),\n      dashboard: true,\n      color: \"white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"text-calendar-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"smaller-job-confirmation\",\n      style: {\n        color: this.state.job.status == \"Pending\" ? \"red\" : \"green\",\n        paddingLeft: \"1rem\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, this.state.job.status), React.createElement(\"span\", {\n      className: \"smaller-job-confirmation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, this.state.job.type), React.createElement(\"span\", {\n      className: \"smaller-job-confirmation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, getTime(this.state.job.time)))), React.createElement(\"button\", {\n      className: \"job-details-btn\",\n      onClick: this.setDetail,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"JOB DETAILS\")), this.state.job == null && React.createElement(\"div\", {\n      className: \"dashboard-side\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"book-img\",\n      src: findimg,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"book-now-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"dashboard-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Find a Job\"), React.createElement(\"span\", {\n      className: \"book-now-desc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Find jobs in your area and start making $$$! Always $\", (WORKER_RATE * CUT).toFixed(2), \" an hour!\"), React.createElement(Link, {\n      className: \"book-now-btn\",\n      to: \"/worker/dashboard/find\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"FIND NOW\"))), React.createElement(\"div\", {\n      className: \"dashboard-side\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"dashboard-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"TUTORIAL VIDEO\"), React.createElement(\"iframe\", {\n      style: {\n        width: \"100%\",\n        height: \"95%\",\n        paddingBottom: \"1rem\"\n      },\n      src: \"https://www.youtube.com/embed/zXykdtEcchM\",\n      frameBorder: \"0\",\n      allow: \"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\",\n      allowFullScreen: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"dashboard-side\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"dashboard-icon-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      width: \"24\",\n      height: \"24\",\n      viewBox: \"0 0 24 24\",\n      className: \"dashboard-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"path\", {\n      d: \"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(\"path\", {\n      d: \"M0 0h24v24H0z\",\n      fill: \"none\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: {\n        width: \"70%\",\n        display: \"flex\",\n        flexDirection: \"column\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"dashboard-icon-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"TOTAL EARNINGS\"), React.createElement(\"span\", {\n      style: {\n        paddingTop: \"0\",\n        color: \"green\",\n        fontSize: \"2rem\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"$\", empty(wtot) ? \"0.00\" : wtot)), React.createElement(\"div\", {\n      className: \"dashboard-icon-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"EARNINGS PAYING OUT SOON\"), React.createElement(\"span\", {\n      style: {\n        paddingTop: \"0\",\n        color: \"green\",\n        fontSize: \"2rem\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"$\", empty(user.stripe_id) ? \"0.00\" : empty(stripe_amount) ? \"0.00\" : stripe_amount))))), React.createElement(\"div\", {\n      className: \"dashboard-side cust-dash-pic\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"book-img\",\n      src: joelogo,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  user: state.auth.user\n});\n\nexport default connect(mapStateToProps, {})(withRouter(WorkerDashboard));","map":{"version":3,"sources":["/Users/jackjoliet/Documents/marketplace/front/src/containers/Worker/WorkerDashboard.js"],"names":["React","Component","Fragment","Link","withRouter","connect","db_get_coming_job","db_get_worker_tot","getTime","WORKER_RATE","CUT","moment","empty","defaultPic","findimg","joelogo","WorkerNavbar","Calendar","Loading","WorkerJobDetail","WorkerCompleteJob","WorkerDashboard","constructor","props","onHide","e","data","user","id","setState","state","job","complete","detail","document","body","style","overflow","setDetail","wtot","stripe_amount","loaded","componentDidMount","stripe_id","user_id","tot_earnings","toFixed","available","amount","render","status","first","last","utc","date","format","color","paddingLeft","type","time","width","height","paddingBottom","display","flexDirection","paddingTop","fontSize","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React, {Component, Fragment} from 'react';\nimport {Link, withRouter} from 'react-router-dom';\nimport {connect} from \"react-redux\";\nimport {db_get_coming_job} from \"../../store/actions/jobs\";\nimport {db_get_worker_tot} from \"../../store/actions/payments\";\nimport getTime from '../../utils/getTime';\nimport {WORKER_RATE, CUT} from '../../utils/constants';\nimport moment from 'moment';\nimport empty from 'is-empty';\n\nimport defaultPic from '../../images/defaultPic.png';\nimport findimg from '../../images/findimg.png';\nimport joelogo from '../../images/joelogowhite.png';\n\nimport WorkerNavbar from '../../components/Nav/WorkerNavbar';\nimport Calendar from '../../components/Graphics/Calendar';\nimport Loading from '../../components/Graphics/Loading';\nimport WorkerJobDetail from '../../components/Forms/WorkerJobDetail';\nimport WorkerCompleteJob from '../../components/Forms/WorkerCompleteJob';\n\nclass WorkerDashboard extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tjob: {},\n\t\t\twtot: 0.00,\n\t\t\tstripe_amount: 0.00,\n\t\t\tloaded: false,\n\t\t\tdetail: false\n\t\t};\n\t}\n\n  async componentDidMount() {\n  \tconst data = await db_get_coming_job(this.props.user.id);\n  \tconst wtot = await db_get_worker_tot({stripe_id: this.props.user.stripe_id, user_id: this.props.user.id});\n  \tthis.setState({\n  \t\t...this.state,\n  \t\tjob: data.complete ? data.data : null,\n  \t\twtot: wtot.complete ? (wtot.wtot.tot_earnings / 100).toFixed(2) : 0.00,\n  \t\tstripe_amount: wtot.complete ? (wtot.wtot.available[0].amount / 100).toFixed(2) : 0.00,\n  \t\tloaded: true\n  \t})\n  }\n\n  onHide = async e => {\n  \tconst data = await db_get_coming_job(this.props.user.id);\n  \tthis.setState({\n  \t\t...this.state,\n  \t\tjob: data.complete ? data.data : null,\n  \t\tdetail: false\n  \t});\n  \tdocument.body.style.overflow = \"auto\";\n  }\n\n  setDetail = e => {\n  \tthis.setState({\n  \t\t...this.state,\n  \t\tdetail: true\n  \t});\n  \tdocument.body.style.overflow = \"hidden\";\n  }\n\n\trender() {\n\t\tconst {wtot, stripe_amount} = this.state;\n\t\tconst {user} = this.props;\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<WorkerNavbar active=\"home\" />\n\t\t\t\t{this.state.detail && (this.state.job.status == \"In-Progress\" ? <WorkerCompleteJob hide={this.onHide} job={this.state.job} scheduled/> : <WorkerJobDetail hide={this.onHide} job={this.state.job} scheduled/>)}\n\t\t\t\t{!this.state.loaded && (<Loading />)}\n\t\t\t\t{this.state.loaded && (<div className=\"dashboard-container\">\n\t\t\t\t\t<div className=\"dashboard-head-title\">\n\t\t\t\t\t\t<img className=\"worker-head-profile\" src={`https://joesappstorage.blob.core.windows.net/${this.props.user.id}worker/profile`} alt=\"\"/>\n\t\t\t\t\t\t<span>Welcome, {this.props.user.first} {this.props.user.last}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"dashboard-box\">\n\t\t\t\t\t\t{this.state.job != null && (<div className=\"dashboard-side\">\n\t\t\t\t\t\t\t<span className=\"dashboard-title\">{!empty(this.state.job) && this.state.job.status == \"In-Progress\" ? \"IN-PROGRESS JOB\" : \"UPCOMING JOB\"}</span>\n\t\t\t\t\t\t\t<div className=\"calendar-block\">\n\t\t\t\t\t\t\t\t<Calendar month={moment.utc(this.state.job.date).format(\"MMM\")} day={moment.utc(this.state.job.date).format(\"DD\")} dashboard color=\"white\"/>\n\t\t\t\t\t\t\t\t<div className=\"text-calendar-block\">\n\t\t\t\t\t\t\t\t\t<span className=\"smaller-job-confirmation\" style={{color: this.state.job.status == \"Pending\" ? \"red\" : \"green\", paddingLeft: \"1rem\"}}>{this.state.job.status}</span>\n\t\t\t\t\t\t\t\t\t<span className=\"smaller-job-confirmation\">{this.state.job.type}</span>\n\t\t\t\t\t\t\t\t\t<span className=\"smaller-job-confirmation\">{getTime(this.state.job.time)}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<button className=\"job-details-btn\" onClick={this.setDetail}>JOB DETAILS</button>\n\t\t\t\t\t\t</div>)}\n\t\t\t\t\t\t{this.state.job == null && (<div className=\"dashboard-side\">\n\t\t\t\t\t\t\t<img className=\"book-img\" src={findimg} alt=\"\"/>\n\t\t\t\t\t\t\t<div className=\"book-now-container\">\n\t\t\t\t\t\t\t\t<span className=\"dashboard-title\">Find a Job</span>\n\t\t\t\t\t\t\t\t<span className=\"book-now-desc\">Find jobs in your area and start making $$$! Always ${(WORKER_RATE * CUT).toFixed(2)} an hour!</span>\n\t\t\t\t\t\t\t\t<Link className=\"book-now-btn\" to=\"/worker/dashboard/find\">FIND NOW</Link>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>)}\n\t\t\t\t\t\t<div className=\"dashboard-side\">\n\t\t\t\t\t\t\t<span className=\"dashboard-title\">TUTORIAL VIDEO</span>\n\t\t\t\t\t\t\t<iframe style={{width: \"100%\", height: \"95%\", paddingBottom: \"1rem\"}} src=\"https://www.youtube.com/embed/zXykdtEcchM\" frameBorder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen></iframe>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"dashboard-side\">\n\t\t\t\t\t\t\t<div className=\"dashboard-icon-div\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" className=\"dashboard-icon\"><path d=\"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/></svg>\n\t\t\t\t\t\t\t\t<div style={{width: \"70%\", display: \"flex\", flexDirection: \"column\"}}>\n\t\t\t\t\t\t\t\t\t<div className=\"dashboard-icon-text\">\n\t\t\t\t\t\t\t\t\t\t<span>TOTAL EARNINGS</span>\n\t\t\t\t\t\t\t\t\t\t<span style={{paddingTop: \"0\", color: \"green\", fontSize: \"2rem\"}}>${empty(wtot) ? \"0.00\" : wtot}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"dashboard-icon-text\">\n\t\t\t\t\t\t\t\t\t\t<span>EARNINGS PAYING OUT SOON</span>\n\t\t\t\t\t\t\t\t\t\t<span style={{paddingTop: \"0\", color: \"green\", fontSize: \"2rem\"}}>${empty(user.stripe_id) ? \"0.00\" : empty(stripe_amount) ? \"0.00\" : stripe_amount}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"dashboard-side cust-dash-pic\">\n\t\t\t\t\t\t\t<img className=\"book-img\" src={joelogo} alt=\"\"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>)}\n\t\t\t</Fragment>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = state => ({\n  user: state.auth.user\n});\n\nexport default connect(mapStateToProps,{})(withRouter(WorkerDashboard));\n\n"]},"metadata":{},"sourceType":"module"}