{"ast":null,"code":"import _toConsumableArray from\"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component,Fragment}from'react';import SizeInput from'../Graphics/SizeInput';var ProductCard=/*#__PURE__*/function(_Component){_inherits(ProductCard,_Component);function ProductCard(props){var _this;_classCallCheck(this,ProductCard);_this=_possibleConstructorReturn(this,_getPrototypeOf(ProductCard).call(this,props));_this.toParentCart=function _callee(e){var product,products;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:product=_this.props.product;e.preventDefault();products=[];_context.next=5;return _regeneratorRuntime.awrap(_this.state.sizes.forEach(function(size){products.push(_objectSpread({},size,{quantity:parseInt(size.quantity),product:product.name,id:product.id,active:false}));}));case 5:_context.next=7;return _regeneratorRuntime.awrap(_this.props.toCart(products));case 7:_this.setState(_objectSpread({},_this.state,{sizes:[]}));_this.myform.reset();case 9:case\"end\":return _context.stop();}}});};_this.onChange=function(e){e.preventDefault();_this.setState(_objectSpread({},_this.state,{sizes:[].concat(_toConsumableArray(_this.state.sizes.filter(function(s){return s.size!=e.target.id;})),[{size:e.target.id,quantity:e.target.value}])}));};_this.state={sizes:[]};_this.toParentCart=_this.toParentCart.bind(_assertThisInitialized(_this));return _this;}_createClass(ProductCard,[{key:\"render\",value:function render(){var _this2=this;var product=this.props.product;var sizes=JSON.parse(product.sizes);var size_list=sizes.map(function(size){return React.createElement(SizeInput,{key:size,size:size,onChange:_this2.onChange,total:sizes.length});});return React.createElement(\"form\",{className:\"dashboard-side\",ref:function ref(el){return _this2.myform=el;}},React.createElement(\"img\",{src:\"https://pskapparel.blob.core.windows.net/\".concat(product.id,\"product/photo\"),alt:\"\",className:\"product-photo\"}),React.createElement(\"div\",{className:\"product-description\"},React.createElement(\"span\",{className:\"product-title\"},product.name),React.createElement(\"span\",null,\"$\",(product.price/100).toFixed(2)),React.createElement(\"div\",{className:\"size-input-div\"},size_list),React.createElement(\"button\",{className:\"add-to-cart\",onClick:this.toParentCart},\"Add to Cart\")));}}]);return ProductCard;}(Component);export default ProductCard;","map":{"version":3,"sources":["/Users/jackjoliet/Documents/marketplace/front/src/components/Forms/ProductCard.js"],"names":["React","Component","Fragment","SizeInput","ProductCard","props","toParentCart","e","product","preventDefault","products","state","sizes","forEach","size","push","quantity","parseInt","name","id","active","toCart","setState","myform","reset","onChange","filter","s","target","value","bind","JSON","parse","size_list","map","length","el","price","toFixed"],"mappings":"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","sourcesContent":["import React, {Component, Fragment} from 'react';\nimport SizeInput from '../Graphics/SizeInput';\n\nclass ProductCard extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n    \tsizes: []\n    }\n    this.toParentCart = this.toParentCart.bind(this);\n  }\n\n  toParentCart = async e => {\n  \tconst {product} = this.props;\n  \te.preventDefault();\n  \tlet products = [];\n  \tawait this.state.sizes.forEach(function(size) {\n  \t\tproducts.push({...size, quantity: parseInt(size.quantity), product: product.name, id: product.id, active: false});\n  \t});\n  \tawait this.props.toCart(products);\n  \tthis.setState({\n  \t\t...this.state,\n  \t\tsizes: []\n  \t});\n  \tthis.myform.reset();\n  }\n\n  onChange = e => {\n  \te.preventDefault();\n  \tthis.setState({\n  \t\t...this.state,\n  \t\tsizes: [...this.state.sizes.filter(s => {\n\t\t\t\treturn s.size != e.target.id;\n\t\t\t}), {size: e.target.id, quantity: e.target.value}]\n  \t});\n  }\n\n  render() {\n    const {product} = this.props;\n\n    const sizes = JSON.parse(product.sizes);\n    let size_list = sizes.map(size => \n      <SizeInput key={size} size={size} onChange={this.onChange} total={sizes.length}/>\n    );\n\n    return (\n      <form className=\"dashboard-side\" ref={(el) => this.myform = el}>\n\t\t\t\t<img src={`https://pskapparel.blob.core.windows.net/${product.id}product/photo`} alt=\"\" className=\"product-photo\"/>\n\t\t\t\t<div className=\"product-description\">\n\t\t\t\t\t<span className=\"product-title\">{product.name}</span>\n\t\t\t\t\t<span>${(product.price / 100).toFixed(2)}</span>\n\t\t\t\t\t<div className=\"size-input-div\">\n\t\t\t\t\t\t{size_list}\n\t\t\t\t\t</div>\n\t\t\t\t\t<button className=\"add-to-cart\" onClick={this.toParentCart}>Add to Cart</button>\n\t\t\t\t</div>\n\t\t\t</form>\n    );\n  }\n}\n\nexport default ProductCard;\n"]},"metadata":{},"sourceType":"module"}