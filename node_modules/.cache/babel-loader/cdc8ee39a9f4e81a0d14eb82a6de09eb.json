{"ast":null,"code":"import { apiCall } from '../../services/api';\nimport { GET_ASSIGNMENTS, GET_JOB_ASSIGNMENTS, REMOVE_ASSIGNMENT, ADD_ASSIGNMENT, COMPLETE_ASSIGNMENT } from '../types';\nimport empty from 'is-empty';\nexport const state_get_assignments = payload => ({\n  type: GET_ASSIGNMENTS,\n  payload\n});\nexport const state_get_job_assignments = payload => ({\n  type: GET_JOB_ASSIGNMENTS,\n  payload\n});\nexport const state_add_assignment = payload => ({\n  type: ADD_ASSIGNMENT,\n  payload\n});\nexport const state_remove_assignment = payload => ({\n  type: REMOVE_ASSIGNMENT,\n  payload\n});\nexport const state_complete_assignment = payload => ({\n  type: COMPLETE_ASSIGNMENT,\n  payload\n});\nexport const db_get_job_assignments = id => dispatch => {\n  return apiCall('get', `/api/assignments/job/${id}`).then(function (res) {\n    dispatch(state_get_job_assignments(res));\n    return {\n      complete: true\n    };\n  }).catch(function (err) {\n    return {\n      complete: false,\n      message: err\n    };\n  });\n};\nexport const db_get_worker_assignments = id => dispatch => {\n  return apiCall('get', `/api/assignments/worker/${id}`).then(function (res) {\n    dispatch(state_get_assignments(res));\n    return {\n      complete: true\n    };\n  }).catch(function (err) {\n    return {\n      complete: false,\n      message: err\n    };\n  });\n};\nexport const db_get_pending_assignments = id => dispatch => {\n  return apiCall('get', `/api/assignments/pending/${id}`).then(function (res) {\n    let arr = [];\n\n    for (let i = 0; i < res.length; i++) {\n      arr.push(res[i].job_id);\n    }\n\n    ;\n    dispatch(state_get_assignments(arr));\n    return {\n      complete: true\n    };\n  }).catch(function (err) {\n    return {\n      complete: false,\n      message: err\n    };\n  });\n};\nexport const db_get_inp_assignments = id => {\n  return apiCall('get', `/api/assignments/worker/${id}/inp`).then(function (res) {\n    if (res.length > 0) return {\n      complete: true,\n      inp: true\n    };\n    return {\n      complete: true,\n      inp: false\n    };\n  }).catch(function (err) {\n    return {\n      complete: false,\n      message: err\n    };\n  });\n};\nexport const db_add_assignment = assignment => dispatch => {\n  return apiCall('post', `/api/assignments`, assignment).then(function (res) {\n    dispatch(state_add_assignment(assignment));\n    return {\n      complete: true\n    };\n  }).catch(function (err) {\n    return {\n      complete: false,\n      message: err\n    };\n  });\n};\nexport const db_remove_assignment = data => dispatch => {\n  return apiCall('post', `/api/assignments/delete/${data.id}`, {\n    stripe_id: data.stripe_id\n  }).then(function (res) {\n    dispatch(state_remove_assignment(data.id));\n    return {\n      complete: true\n    };\n  }).catch(function (err) {\n    return {\n      complete: false,\n      message: err\n    };\n  });\n};","map":{"version":3,"sources":["/Users/jackjoliet/Documents/marketplace/front/src/store/actions/assignments.js"],"names":["apiCall","GET_ASSIGNMENTS","GET_JOB_ASSIGNMENTS","REMOVE_ASSIGNMENT","ADD_ASSIGNMENT","COMPLETE_ASSIGNMENT","empty","state_get_assignments","payload","type","state_get_job_assignments","state_add_assignment","state_remove_assignment","state_complete_assignment","db_get_job_assignments","id","dispatch","then","res","complete","catch","err","message","db_get_worker_assignments","db_get_pending_assignments","arr","i","length","push","job_id","db_get_inp_assignments","inp","db_add_assignment","assignment","db_remove_assignment","data","stripe_id"],"mappings":"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","sourcesContent":["import {apiCall} from '../../services/api';\nimport {GET_ASSIGNMENTS, GET_JOB_ASSIGNMENTS, REMOVE_ASSIGNMENT, ADD_ASSIGNMENT, COMPLETE_ASSIGNMENT} from '../types';\nimport empty from 'is-empty';\n\nexport const state_get_assignments = payload => ({\n\ttype: GET_ASSIGNMENTS,\n\tpayload\n});\n\nexport const state_get_job_assignments = payload => ({\n\ttype: GET_JOB_ASSIGNMENTS,\n\tpayload\n});\n\nexport const state_add_assignment = payload => ({\n\ttype: ADD_ASSIGNMENT,\n\tpayload\n});\n\nexport const state_remove_assignment = payload => ({\n\ttype: REMOVE_ASSIGNMENT,\n\tpayload\n});\n\nexport const state_complete_assignment = payload => ({\n\ttype: COMPLETE_ASSIGNMENT,\n\tpayload\n});\n\nexport const db_get_job_assignments = (id) => dispatch => {\n\treturn apiCall('get', `/api/assignments/job/${id}`)\n\t.then(function(res) {\n\t\tdispatch(state_get_job_assignments(res));\n\t\treturn {complete: true};\n\t})\n\t.catch(function(err) {\n\t\treturn {complete: false, message: err};\n\t});\n}\n\nexport const db_get_worker_assignments = id => dispatch => {\n\treturn apiCall('get', `/api/assignments/worker/${id}`)\n\t.then(function(res) {\n\t\tdispatch(state_get_assignments(res));\n\t\treturn {complete: true};\n\t})\n\t.catch(function(err) {\n\t\treturn {complete: false, message: err};\n\t});\n}\n\nexport const db_get_pending_assignments = id => dispatch => {\n\treturn apiCall('get', `/api/assignments/pending/${id}`)\n\t.then(function(res) {\n\t\tlet arr = [];\n\t\tfor(let i = 0; i < res.length; i++) {arr.push(res[i].job_id)};\n\t\tdispatch(state_get_assignments(arr));\n\t\treturn {complete: true};\n\t})\n\t.catch(function(err) {\n\t\treturn {complete: false, message: err};\n\t});\n}\n\nexport const db_get_inp_assignments = id => {\n\treturn apiCall('get', `/api/assignments/worker/${id}/inp`)\n\t.then(function(res) {\n\t\tif(res.length > 0) return {complete: true, inp: true};\n\t\treturn {complete: true, inp: false};\n\t})\n\t.catch(function(err) {\n\t\treturn {complete: false, message: err};\n\t});\n}\n\nexport const db_add_assignment = assignment => dispatch => {\n\treturn apiCall('post', `/api/assignments`, assignment)\n\t.then(function(res) {\n\t\tdispatch(state_add_assignment(assignment));\n\t\treturn {complete: true};\n\t})\n\t.catch(function(err) {\n\t\treturn {complete: false, message: err};\n\t});\n}\n\nexport const db_remove_assignment = data => dispatch => {\n\treturn apiCall('post', `/api/assignments/delete/${data.id}`, {stripe_id: data.stripe_id})\n\t.then(function(res) {\n\t\tdispatch(state_remove_assignment(data.id));\n\t\treturn {complete: true};\n\t})\n\t.catch(function(err) {\n\t\treturn {complete: false, message: err};\n\t});\n}\n\n"]},"metadata":{},"sourceType":"module"}