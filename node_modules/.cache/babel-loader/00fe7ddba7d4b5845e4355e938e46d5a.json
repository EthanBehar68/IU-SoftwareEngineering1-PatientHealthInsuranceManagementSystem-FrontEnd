{"ast":null,"code":"import _objectSpread from \"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/jackjoliet/Documents/marketplace/front/src/containers/Main.js\";\nimport React, { Component, Fragment } from 'react';\nimport { Switch, Route, withRouter, Redirect } from 'react-router-dom';\nimport PrivateRoute from '../components/Nav/PrivateRoute';\nimport { connect } from \"react-redux\";\nimport { db_get_customer } from '../store/actions/customers';\nimport { db_get_worker } from '../store/actions/workers';\nimport { db_get_admin } from '../store/actions/admin';\nimport { setFooter } from '../store/actions/footer';\nimport Dashboard from './Customer/Dashboard';\nimport Book from './Customer/Book';\nimport Manage from './Customer/Manage';\nimport Account from './Customer/Account';\nimport AdminDashboard from './Admin/AdminDashboard';\nimport AdminSignIn from './Admin/AdminSignIn';\nimport NoRoute from '../components/Graphics/NoRoute';\n\nclass Main extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    this.state = {\n      loaded: false\n    };\n  }\n\n  async componentDidMount() {\n    if (this.props.user.db == \"customers\") {\n      await this.props.db_get_customer(this.props.user);\n      this.props.setFooter(\"customers\");\n    }\n\n    if (this.props.user.db == \"workers\") {\n      await this.props.db_get_worker(this.props.user);\n      this.props.setFooter(\"workers\");\n    }\n\n    if (this.props.user.db == \"admin\") {\n      await this.props.db_get_admin(this.props.user);\n      this.props.setFooter(\"admin\");\n    }\n\n    this.setState(_objectSpread({}, this.state, {\n      loaded: true\n    }));\n  }\n\n  render() {\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, this.state.loaded && React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      component: Dashboard,\n      portal: \"customers\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/checkout\",\n      component: Book,\n      portal: \"customers\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/admin\",\n      render: props => React.createElement(AdminSignIn, {\n        signin: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), React.createElement(PrivateRoute, {\n      exact: true,\n      path: \"/admin/dashboard\",\n      component: AdminDashboard,\n      portal: \"admin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(PrivateRoute, {\n      exact: true,\n      path: \"/admin/dashboard/:table\",\n      component: AdminDashboard,\n      portal: \"admin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/\",\n      render: props => React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/admin\",\n      render: props => React.createElement(Redirect, {\n        to: \"/admin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"*\",\n      render: props => React.createElement(NoRoute, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  user: state.auth.user,\n  allowed: state.auth.isAuthenticated\n});\n\nexport default connect(mapStateToProps, {\n  db_get_customer,\n  db_get_worker,\n  db_get_admin,\n  setFooter\n})(withRouter(Main));","map":{"version":3,"sources":["/Users/jackjoliet/Documents/marketplace/front/src/containers/Main.js"],"names":["React","Component","Fragment","Switch","Route","withRouter","Redirect","PrivateRoute","connect","db_get_customer","db_get_worker","db_get_admin","setFooter","Dashboard","Book","Manage","Account","AdminDashboard","AdminSignIn","NoRoute","Main","constructor","props","onChange","e","setState","target","id","value","state","loaded","componentDidMount","user","db","render","mapStateToProps","auth","allowed","isAuthenticated"],"mappings":"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","sourcesContent":["import React, {Component, Fragment} from 'react';\nimport {Switch, Route, withRouter, Redirect} from 'react-router-dom';\nimport PrivateRoute from '../components/Nav/PrivateRoute';\nimport {connect} from \"react-redux\";\nimport {db_get_customer} from '../store/actions/customers';\nimport {db_get_worker} from '../store/actions/workers';\nimport {db_get_admin} from '../store/actions/admin';\nimport {setFooter} from '../store/actions/footer';\n\nimport Dashboard from './Customer/Dashboard';\nimport Book from './Customer/Book';\nimport Manage from './Customer/Manage';\nimport Account from './Customer/Account';\n\nimport AdminDashboard from './Admin/AdminDashboard';\nimport AdminSignIn from './Admin/AdminSignIn';\n\nimport NoRoute from '../components/Graphics/NoRoute';\n\nclass Main extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tloaded: false\n\t\t};\n\t}\n\n\tasync componentDidMount() {\n\t\tif(this.props.user.db == \"customers\") {\n\t\t\tawait this.props.db_get_customer(this.props.user);\n\t\t\tthis.props.setFooter(\"customers\");\n\t\t}\n\t\tif(this.props.user.db == \"workers\") {\n\t\t\tawait this.props.db_get_worker(this.props.user);\n\t\t\tthis.props.setFooter(\"workers\");\n\t\t}\n\t\tif(this.props.user.db == \"admin\") {\n\t\t\tawait this.props.db_get_admin(this.props.user);\n\t\t\tthis.props.setFooter(\"admin\");\n\t\t}\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tloaded: true\n\t\t});\n\t}\n\n  onChange = e => {\n    this.setState({ \n    \t[e.target.id]: e.target.value \n    });\n  };\n\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t{this.state.loaded && (<Switch>\n\t        <Route exact path='/' component={Dashboard} portal=\"customers\"/>\n\t        <Route exact path='/checkout' component={Book} portal=\"customers\"/>\n\t        <Route exact path='/admin' render={props => <AdminSignIn signin/>} />\n\t        <PrivateRoute exact path='/admin/dashboard' component={AdminDashboard} portal=\"admin\"/>\n\t        <PrivateRoute exact path='/admin/dashboard/:table' component={AdminDashboard} portal=\"admin\"/>\n\t        <Route path='/' render={props => <Redirect to=\"/\"/>} />\n\t        <Route path='/admin' render={props => <Redirect to=\"/admin\"/>} />\n\t        <Route path='*' render={props => <NoRoute />} />\n\t      </Switch>)}\n      </Fragment>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = state => ({\n  user: state.auth.user,\n  allowed: state.auth.isAuthenticated\n});\n\nexport default connect(mapStateToProps,{db_get_customer, db_get_worker, db_get_admin, setFooter})(withRouter(Main));\n"]},"metadata":{},"sourceType":"module"}