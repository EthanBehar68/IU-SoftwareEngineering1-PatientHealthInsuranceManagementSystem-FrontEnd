{"ast":null,"code":"import _objectSpread from \"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/jackjoliet/Documents/marketplace/front/src/containers/Worker/FindJob.js\";\nimport React, { Component, Fragment } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport uuid from 'uuid';\nimport { db_get_loc_jobs } from '../../store/actions/jobs';\nimport { jobtypes } from '../../utils/options';\nimport { STRIPE_CLIENT_ID, STRIPE_REDIRECT_URI } from \"../../utils/constants\";\nimport { db_get_pending_assignments, db_get_inp_assignments } from '../../store/actions/assignments';\nimport { db_verify_stripe } from '../../store/actions/workers';\nimport empty from 'is-empty';\nimport moment from 'moment';\nimport WorkerNavbar from '../../components/Nav/WorkerNavbar';\nimport TableLoading from '../../components/Graphics/TableLoading';\nimport FindRow from '../../components/Graphics/FindRow';\nimport WorkerJobDetail from '../../components/Forms/WorkerJobDetail';\n\nclass FindJob extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onPayout = async e => {\n      e.preventDefault();\n      const random_key = uuid.v4();\n      localStorage.setItem('stripe_unique_id', random_key);\n      const stripe_link = `https://connect.stripe.com/express/oauth/authorize?\n\t\t\tredirect_uri=${STRIPE_REDIRECT_URI}&\n\t\t\tclient_id=${STRIPE_CLIENT_ID}&\n\t\t\tstripe_user[email]=${this.props.user.email}&\n\t\t\tstripe_user[business_type]=individual&\n\t\t\tstripe_user[phone_number]=${this.props.user.phone}&\n\t\t\tstripe_user[country]=US&\n\t\t\tstripe_user[first_name]=${this.props.user.first}&\n\t\t\tstripe_user[last_name]=${this.props.user.last}&\n\t\t\tstripe_user[product_description]=Worker for Joe's Odd Jobs\n\t\t`;\n      window.open(stripe_link);\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    this.onHide = () => {\n      this.setState(_objectSpread({}, this.state, {\n        currentJob: {}\n      }));\n    };\n\n    this.setDetail = job => {\n      this.setState(_objectSpread({}, this.state, {\n        currentJob: job\n      }));\n    };\n\n    this.changeRadius = async e => {\n      e.preventDefault();\n      this.setState(_objectSpread({}, this.state, {\n        radius: parseInt(e.target.id),\n        loaded: false\n      }));\n      const resp = await this.props.db_get_loc_jobs({\n        radius: parseInt(e.target.id),\n        lon: this.props.user.lon,\n        lat: this.props.user.lat\n      });\n      if (resp.complete) this.setState(_objectSpread({}, this.state, {\n        loaded: true\n      }));\n    };\n\n    this.changeSort = e => {\n      this.setState(_objectSpread({}, this.state, {\n        sort: e.target.id\n      }));\n    };\n\n    this.changeAsc = e => {\n      this.setState(_objectSpread({}, this.state, {\n        asc: e.target.id == \"asc\"\n      }));\n    };\n\n    this.changeFilter = e => {\n      if (this.state.typeFilter.includes(e.target.id)) {\n        this.setState(_objectSpread({}, this.state, {\n          typeFilter: this.state.typeFilter.filter(item => item != e.target.id)\n        }));\n      } else {\n        this.setState(_objectSpread({}, this.state, {\n          typeFilter: [...this.state.typeFilter, e.target.id]\n        }));\n      }\n\n      ;\n    };\n\n    this.sort = jobs => {\n      const _this$state = this.state,\n            asc = _this$state.asc,\n            sort = _this$state.sort;\n\n      if (sort == \"date\") {\n        return asc ? jobs.sort((a, b) => moment.utc(a.date).diff(moment.utc(b.date))) : jobs.sort((a, b) => moment.utc(b.date).diff(moment.utc(a.date)));\n      }\n\n      return asc ? jobs.sort((a, b) => a[sort] - b[sort]) : jobs.sort((a, b) => b[sort] - a[sort]);\n    };\n\n    this.state = {\n      loaded: false,\n      currentJob: {},\n      radius: 5,\n      sort: \"date\",\n      asc: true,\n      typeFilter: [],\n      small: false,\n      options: true,\n      inp: false\n    };\n    this.onPayout = this.onPayout.bind(this);\n  }\n\n  resize() {\n    let currentHideNav = window.innerWidth <= 760;\n\n    if (currentHideNav !== this.state.small) {\n      if (currentHideNav) this.setState({\n        small: true,\n        options: false\n      });\n\n      if (!currentHideNav) {\n        this.setState({\n          small: false,\n          options: true\n        });\n      }\n    }\n  }\n\n  async componentDidMount() {\n    window.addEventListener(\"resize\", this.resize.bind(this));\n    this.resize();\n\n    if (!empty(this.props.user.stripe_id)) {\n      const verified = await db_verify_stripe(this.props.user);\n\n      if (verified.complete) {\n        if (!verified.confirmed) window.location.href = '/worker/dashboard/account/payout';\n      }\n    }\n\n    const types = await jobtypes.map(type => type.value);\n    const resp = await db_get_inp_assignments(this.props.user.id);\n\n    if (resp.complete) {\n      if (resp.inp) this.setState(_objectSpread({}, this.state, {\n        inp: true\n      }));\n    }\n\n    await this.props.db_get_loc_jobs({\n      radius: 5,\n      lon: this.props.user.lon,\n      lat: this.props.user.lat\n    });\n    await this.props.db_get_pending_assignments(this.props.user.id);\n    this.setState(_objectSpread({}, this.state, {\n      loaded: true,\n      typeFilter: types\n    }));\n  }\n\n  render() {\n    let job_list = this.sort(this.props.jobs).filter(job => job.status == \"Pending\" && !this.props.assignments.includes(job.id)).filter(job => this.state.typeFilter.includes(job.type)).map(job => React.createElement(FindRow, {\n      key: job.id,\n      job: job,\n      onClick: this.setDetail,\n      card: this.state.small,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }));\n    let filter_list = jobtypes.map(type => React.createElement(\"div\", {\n      key: type.value,\n      className: \"sort-pick\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, type.value, \" \", React.createElement(\"input\", {\n      id: type.value,\n      type: \"checkbox\",\n      onChange: this.changeFilter,\n      checked: this.state.typeFilter.includes(type.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    })));\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(WorkerNavbar, {\n      active: \"findjob\",\n      find: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }), !empty(this.state.currentJob) && React.createElement(WorkerJobDetail, {\n      hide: this.onHide,\n      job: this.state.currentJob,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }), !this.state.inp && React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, this.props.user.stripe_id && React.createElement(\"div\", {\n      className: \"find-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, this.state.options && React.createElement(\"div\", {\n      className: \"find-sidebar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"find-sidebar-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"options-close\",\n      onClick: () => this.setState({\n        options: false\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, \"X\"), React.createElement(\"span\", {\n      className: \"sidebar-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, \"Options\"), React.createElement(\"span\", {\n      className: \"sidebar-subtitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, \"Search radius (mi):\"), React.createElement(\"div\", {\n      className: \"radius-picker-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"1\",\n      className: this.state.radius == 1 ? \"radius-pick radius-selected\" : \"radius-pick\",\n      onClick: this.changeRadius,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, \"1\"), React.createElement(\"div\", {\n      id: \"5\",\n      className: this.state.radius == 5 ? \"radius-pick radius-selected\" : \"radius-pick\",\n      onClick: this.changeRadius,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, \"5\"), React.createElement(\"div\", {\n      id: \"10\",\n      className: this.state.radius == 10 ? \"radius-pick radius-selected\" : \"radius-pick\",\n      onClick: this.changeRadius,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, \"10\"), React.createElement(\"div\", {\n      id: \"15\",\n      className: this.state.radius == 15 ? \"radius-pick radius-selected\" : \"radius-pick\",\n      onClick: this.changeRadius,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, \"15\"), React.createElement(\"div\", {\n      id: \"25\",\n      className: this.state.radius == 25 ? \"radius-pick radius-selected\" : \"radius-pick\",\n      onClick: this.changeRadius,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, \"25\")), React.createElement(\"span\", {\n      style: {\n        marginTop: \"0.5rem\",\n        color: \"white\",\n        fontSize: \"0.7rem\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, \"NOTE: The location is based on the address in your profile.\"), React.createElement(\"hr\", {\n      className: \"options-hr\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"sidebar-subtitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, \"Sort:\"), React.createElement(\"div\", {\n      className: \"sort-picker-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        textDecoration: \"underline\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, \"Field: \"), React.createElement(\"div\", {\n      className: \"sort-pick\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \"Date \", React.createElement(\"input\", {\n      id: \"date\",\n      type: \"checkbox\",\n      onChange: this.changeSort,\n      checked: this.state.sort == \"date\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"sort-pick\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, \"Time \", React.createElement(\"input\", {\n      id: \"time\",\n      type: \"checkbox\",\n      onChange: this.changeSort,\n      checked: this.state.sort == \"time\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"sort-pick\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, \"Distance \", React.createElement(\"input\", {\n      id: \"distance\",\n      type: \"checkbox\",\n      onChange: this.changeSort,\n      checked: this.state.sort == \"distance\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"sort-pick\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, \"Est. Hours \", React.createElement(\"input\", {\n      id: \"hours\",\n      type: \"checkbox\",\n      onChange: this.changeSort,\n      checked: this.state.sort == \"hours\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      style: {\n        textDecoration: \"underline\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, \"Order: \"), React.createElement(\"div\", {\n      id: \"asc\",\n      className: \"sort-order-item\",\n      onClick: this.changeAsc,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, this.state.asc && React.createElement(\"span\", {\n      className: \"picked\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, \"\\u2022 \"), \"Asc\"), React.createElement(\"div\", {\n      id: \"desc\",\n      className: \"sort-order-item\",\n      onClick: this.changeAsc,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, !this.state.asc && React.createElement(\"span\", {\n      className: \"picked\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, \"\\u2022 \"), \"Desc\")), React.createElement(\"hr\", {\n      className: \"options-hr\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"sidebar-subtitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, \"Filter:\"), React.createElement(\"div\", {\n      className: \"sort-picker-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"sort-pick\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"sA\",\n      onClick: () => this.setState(_objectSpread({}, this.state, {\n        typeFilter: jobtypes.map(type => type.value)\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, \"Select All\"), React.createElement(\"span\", {\n      className: \"sA\",\n      onClick: () => this.setState(_objectSpread({}, this.state, {\n        typeFilter: []\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, \"Select None\")), filter_list))), React.createElement(\"div\", {\n      className: \"find-table-section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"find-table-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"find-table-header-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, \"Find a Job\"), React.createElement(\"div\", {\n      className: \"find-options\",\n      onClick: () => this.setState({\n        options: !this.state.options\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(\"svg\", {\n      className: \"blue-options\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      width: \"16\",\n      height: \"16\",\n      viewBox: \"0 0 24 24\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(\"path\", {\n      d: \"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }), React.createElement(\"path\", {\n      d: \"M0 0h24v24H0z\",\n      fill: \"none\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      className: \"options-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, \"Options\"))), React.createElement(\"table\", {\n      className: \"find-table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, !this.state.small && React.createElement(\"tr\", {\n      className: \"find-row heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, \"Date\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, \"Time\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, \"Distance\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, \"Type\"), React.createElement(\"th\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, \"Est. Hours\"), React.createElement(\"th\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, \"Workers\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, \"City\")), this.state.loaded && React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, job_list, job_list.length == 0 && React.createElement(\"tr\", {\n      className: \"find-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      colSpan: \"7\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, \"There are no jobs currently listed in this area. Try expanding your search radius.\"))))), !this.state.loaded && React.createElement(TableLoading, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }))), !this.props.user.stripe_id && React.createElement(\"div\", {\n      className: \"sign-in-container no-card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"sign-up-box\",\n      style: {\n        width: \"50rem\",\n        borderRadius: \"0px\",\n        marginTop: \"0\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"sign-in-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, \"Before you continue...\"), React.createElement(\"div\", {\n      style: {\n        textAlign: \"left\",\n        fontSize: \"1rem\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        fontSize: \"1.1rem\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, \"You need to link your bank account or debit card in order to accept a job. Here's why: \"), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, \"When the job is over, we will automatically send earned funds to your account\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, \"Earning will be paid as soon as the customer pays their bill\"))), React.createElement(\"div\", {\n      className: \"book-now-btn\",\n      onClick: this.onPayout,\n      style: {\n        marginTop: \"1rem\",\n        width: \"20rem\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, \"LINK YOUR PAYOUT METHOD\")))), this.state.inp && React.createElement(\"div\", {\n      className: \"sign-in-container no-card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"sign-up-box\",\n      style: {\n        width: \"50rem\",\n        borderRadius: \"0px\",\n        marginTop: \"0\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"sign-in-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, \"Job In-Progress...\"), React.createElement(\"div\", {\n      style: {\n        textAlign: \"left\",\n        fontSize: \"1rem\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        fontSize: \"1.1rem\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, \"Please focus on the job at hand before you book another job. Once you invoice the customer and complete your current job, you may book another. \")), React.createElement(Link, {\n      className: \"book-now-btn\",\n      to: \"/worker/dashboard/manage\",\n      style: {\n        marginTop: \"1rem\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, \"CURRENT JOB\"))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  jobs: state.jobs,\n  user: state.auth.user,\n  assignments: state.assignments\n});\n\nexport default connect(mapStateToProps, {\n  db_get_loc_jobs,\n  db_get_pending_assignments\n})(withRouter(FindJob));","map":{"version":3,"sources":["/Users/jackjoliet/Documents/marketplace/front/src/containers/Worker/FindJob.js"],"names":["React","Component","Fragment","Link","withRouter","connect","uuid","db_get_loc_jobs","jobtypes","STRIPE_CLIENT_ID","STRIPE_REDIRECT_URI","db_get_pending_assignments","db_get_inp_assignments","db_verify_stripe","empty","moment","WorkerNavbar","TableLoading","FindRow","WorkerJobDetail","FindJob","constructor","props","onPayout","e","preventDefault","random_key","v4","localStorage","setItem","stripe_link","user","email","phone","first","last","window","open","onChange","setState","target","id","value","onHide","state","currentJob","setDetail","job","changeRadius","radius","parseInt","loaded","resp","lon","lat","complete","changeSort","sort","changeAsc","asc","changeFilter","typeFilter","includes","filter","item","jobs","a","b","utc","date","diff","small","options","inp","bind","resize","currentHideNav","innerWidth","componentDidMount","addEventListener","stripe_id","verified","confirmed","location","href","types","map","type","render","job_list","status","assignments","filter_list","marginTop","color","fontSize","textDecoration","textAlign","length","width","borderRadius","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React, {Component, Fragment} from 'react';\nimport {Link, withRouter} from 'react-router-dom';\nimport {connect} from \"react-redux\";\nimport uuid from 'uuid';\nimport {db_get_loc_jobs} from '../../store/actions/jobs';\nimport {jobtypes} from '../../utils/options';\nimport {STRIPE_CLIENT_ID, STRIPE_REDIRECT_URI} from \"../../utils/constants\";\nimport {db_get_pending_assignments, db_get_inp_assignments} from '../../store/actions/assignments';\nimport {db_verify_stripe} from '../../store/actions/workers';\nimport empty from 'is-empty';\nimport moment from 'moment';\n\nimport WorkerNavbar from '../../components/Nav/WorkerNavbar';\nimport TableLoading from '../../components/Graphics/TableLoading';\nimport FindRow from '../../components/Graphics/FindRow';\nimport WorkerJobDetail from '../../components/Forms/WorkerJobDetail';\n\nclass FindJob extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tloaded: false,\n\t\t\tcurrentJob: {},\n\t\t\tradius: 5,\n\t\t\tsort: \"date\",\n\t\t\tasc: true,\n\t\t\ttypeFilter: [],\n\t\t\tsmall: false,\n\t\t\toptions: true,\n\t\t\tinp: false\n\t\t};\n\t\tthis.onPayout = this.onPayout.bind(this);\n\t}\n\n\tresize() {\n    let currentHideNav = (window.innerWidth <= 760);\n    if (currentHideNav !== this.state.small) {\n        if(currentHideNav) this.setState({small: true, options: false});\n        if(!currentHideNav) {\n\t\t    \tthis.setState({small: false, options: true});\n\t\t    }\n    }\n\t}\n\n\tasync componentDidMount() {\n\t\twindow.addEventListener(\"resize\", this.resize.bind(this));\n    this.resize();\n    if(!empty(this.props.user.stripe_id)) {\n    \tconst verified = await db_verify_stripe(this.props.user);\n    \tif(verified.complete) { if(!verified.confirmed) window.location.href = '/worker/dashboard/account/payout'; }\n    }\n    const types = await jobtypes.map(type => type.value);\n    const resp = await db_get_inp_assignments(this.props.user.id);\n    if(resp.complete) { if(resp.inp) this.setState({...this.state, inp: true}); }\n\t\tawait this.props.db_get_loc_jobs({\n\t\t\tradius: 5,\n\t\t\tlon: this.props.user.lon,\n\t\t\tlat: this.props.user.lat\n\t\t});\n\t\tawait this.props.db_get_pending_assignments(this.props.user.id);\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tloaded: true,\n\t\t\ttypeFilter: types\n\t\t});\n\t}\n\n\tonPayout = async e => {\n  \te.preventDefault();\n  \tconst random_key = uuid.v4();\n\t\tlocalStorage.setItem('stripe_unique_id', random_key);\n\t\tconst stripe_link = `https://connect.stripe.com/express/oauth/authorize?\n\t\t\tredirect_uri=${STRIPE_REDIRECT_URI}&\n\t\t\tclient_id=${STRIPE_CLIENT_ID}&\n\t\t\tstripe_user[email]=${this.props.user.email}&\n\t\t\tstripe_user[business_type]=individual&\n\t\t\tstripe_user[phone_number]=${this.props.user.phone}&\n\t\t\tstripe_user[country]=US&\n\t\t\tstripe_user[first_name]=${this.props.user.first}&\n\t\t\tstripe_user[last_name]=${this.props.user.last}&\n\t\t\tstripe_user[product_description]=Worker for Joe's Odd Jobs\n\t\t`;\n\t\twindow.open(stripe_link);\n  }\n\n  onChange = e => {\n    this.setState({ \n    \t[e.target.id]: e.target.value \n    });\n  };\n\n  onHide = () => {\n  \tthis.setState({\n  \t\t...this.state,\n  \t\tcurrentJob: {}\n  \t})\n  }\n\n  setDetail = job => {\n  \tthis.setState({\n  \t\t...this.state,\n  \t\tcurrentJob: job\n  \t});\n  }\n\n  changeRadius = async e => {\n  \te.preventDefault();\n  \tthis.setState({\n  \t\t...this.state,\n  \t\tradius: parseInt(e.target.id),\n  \t\tloaded: false\n  \t});\n  \tconst resp = await this.props.db_get_loc_jobs({\n\t\t\tradius: parseInt(e.target.id),\n\t\t\tlon: this.props.user.lon,\n\t\t\tlat: this.props.user.lat\n\t\t});\n\t\tif(resp.complete) this.setState({...this.state, loaded: true});\n  }\n\n  changeSort = e => {\n  \tthis.setState({\n  \t\t...this.state,\n  \t\tsort: e.target.id\n  \t})\n  }\n\n  changeAsc = e => {\n  \tthis.setState({\n  \t\t...this.state,\n  \t\tasc: e.target.id == \"asc\"\n  \t})\n  }\n\n  changeFilter = e => {\n  \tif(this.state.typeFilter.includes(e.target.id)) {\n  \t\tthis.setState({\n  \t\t\t...this.state,\n  \t\t\ttypeFilter: this.state.typeFilter.filter(item => item != e.target.id)\n  \t\t});\n  \t} else {\n  \t\tthis.setState({\n\t  \t\t...this.state,\n\t  \t\ttypeFilter: [...this.state.typeFilter, e.target.id]\n\t  \t})\n  \t};\n  }\n\n  sort = jobs => {\n  \tconst {asc, sort} = this.state;\n  \tif(sort == \"date\") {\n  \t\treturn asc ? jobs.sort((a,b) => moment.utc(a.date).diff(moment.utc(b.date))) : jobs.sort((a,b) => moment.utc(b.date).diff(moment.utc(a.date))) ;\n  \t}\n  \treturn asc ? jobs.sort((a,b) => a[sort] - b[sort]) : jobs.sort((a,b) => b[sort] - a[sort]);\n  }\n\n\trender() {\n\n\t\tlet job_list = this.sort(this.props.jobs).filter(job => job.status == \"Pending\" && !this.props.assignments.includes(job.id)).filter(job => this.state.typeFilter.includes(job.type)).map(job => \n\t\t\t<FindRow \n\t\t\t\tkey={job.id}\n\t\t\t\tjob={job}\n\t\t\t\tonClick={this.setDetail}\n\t\t\t\tcard={this.state.small}\n\t\t\t/>\n\t\t);\n\n\t\tlet filter_list = jobtypes.map(type => \n\t\t\t<div key={type.value} className=\"sort-pick\">{type.value} <input id={type.value} type=\"checkbox\" onChange={this.changeFilter} checked={this.state.typeFilter.includes(type.value)}/></div>\n\t\t);\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<WorkerNavbar active=\"findjob\" find/>\n\t\t\t\t{!empty(this.state.currentJob) && (<WorkerJobDetail hide={this.onHide} job={this.state.currentJob}/>)}\n\t\t\t\t{!this.state.inp && (<Fragment>{this.props.user.stripe_id && (<div className=\"find-container\">\n\t\t\t\t\t{this.state.options && (<div className=\"find-sidebar\">\n\t\t\t\t\t\t<div className=\"find-sidebar-container\">\n\t\t\t\t\t\t\t<span className=\"options-close\" onClick={() => this.setState({options: false})}>X</span>\n\t\t\t\t\t\t\t<span className=\"sidebar-title\">Options</span>\n\t\t\t\t\t\t\t<span className=\"sidebar-subtitle\">Search radius (mi):</span>\n\t\t\t\t\t\t\t<div className=\"radius-picker-container\">\n\t\t\t\t\t\t\t\t<div id=\"1\" className={this.state.radius == 1 ? \"radius-pick radius-selected\" : \"radius-pick\"} onClick={this.changeRadius}>1</div>\n\t\t\t\t\t\t\t\t<div id=\"5\" className={this.state.radius == 5 ? \"radius-pick radius-selected\" : \"radius-pick\"} onClick={this.changeRadius}>5</div>\n\t\t\t\t\t\t\t\t<div id=\"10\" className={this.state.radius == 10 ? \"radius-pick radius-selected\" : \"radius-pick\"} onClick={this.changeRadius}>10</div>\n\t\t\t\t\t\t\t\t<div id=\"15\" className={this.state.radius == 15 ? \"radius-pick radius-selected\" : \"radius-pick\"} onClick={this.changeRadius}>15</div>\n\t\t\t\t\t\t\t\t<div id=\"25\" className={this.state.radius == 25 ? \"radius-pick radius-selected\" : \"radius-pick\"} onClick={this.changeRadius}>25</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span style={{marginTop: \"0.5rem\", color: \"white\", fontSize: \"0.7rem\"}}>NOTE: The location is based on the address in your profile.</span>\n\t\t\t\t\t\t\t<hr className=\"options-hr\"/>\n\t\t\t\t\t\t\t<span className=\"sidebar-subtitle\">Sort:</span>\n\t\t\t\t\t\t\t<div className=\"sort-picker-container\">\n\t\t\t\t\t\t\t\t<span style={{textDecoration: \"underline\"}}>Field: </span>\n\t\t\t\t\t\t\t\t<div className=\"sort-pick\">Date <input id=\"date\" type=\"checkbox\" onChange={this.changeSort} checked={this.state.sort == \"date\"}/></div>\n\t\t\t\t\t\t\t\t<div className=\"sort-pick\">Time <input id=\"time\" type=\"checkbox\" onChange={this.changeSort} checked={this.state.sort == \"time\"}/></div>\n\t\t\t\t\t\t\t\t<div className=\"sort-pick\">Distance <input id=\"distance\" type=\"checkbox\" onChange={this.changeSort} checked={this.state.sort == \"distance\"}/></div>\n\t\t\t\t\t\t\t\t<div className=\"sort-pick\">Est. Hours <input id=\"hours\" type=\"checkbox\" onChange={this.changeSort} checked={this.state.sort == \"hours\"}/></div>\n\t\t\t\t\t\t\t\t<span style={{textDecoration: \"underline\"}}>Order: </span>\n\t\t\t\t\t\t\t\t<div id=\"asc\" className=\"sort-order-item\" onClick={this.changeAsc}>{this.state.asc && (<span className=\"picked\">• </span>)}Asc</div>\n\t\t\t\t\t\t\t\t<div id=\"desc\" className=\"sort-order-item\" onClick={this.changeAsc}>{!this.state.asc && (<span className=\"picked\">• </span>)}Desc</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<hr className=\"options-hr\"/>\n\t\t\t\t\t\t\t<span className=\"sidebar-subtitle\">Filter:</span>\n\t\t\t\t\t\t\t<div className=\"sort-picker-container\">\n\t\t\t\t\t\t\t\t\t<div className=\"sort-pick\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"sA\" onClick={() => this.setState({...this.state, typeFilter: jobtypes.map(type => type.value)})}>Select All</span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"sA\" onClick={() => this.setState({...this.state, typeFilter: []})}>Select None</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{filter_list}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>)}\n\t\t\t\t\t<div className=\"find-table-section\">\n\t\t\t\t\t\t<div className=\"find-table-header\">\n\t\t\t\t\t\t\t<span className=\"find-table-header-title\">Find a Job</span>\n\t\t\t\t\t\t\t<div className=\"find-options\" onClick={() => this.setState({options: !this.state.options})}><svg className=\"blue-options\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path d=\"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/></svg><span className=\"options-btn\">Options</span></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<table className=\"find-table\">\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t{!this.state.small && (<tr className=\"find-row heading\">\n\t\t\t\t\t\t\t\t\t<th>Date</th>\n\t\t\t\t\t\t\t\t\t<th>Time</th>\n\t\t\t\t\t\t\t\t\t<th>Distance</th>\n\t\t\t\t\t\t\t\t\t<th>Type</th>\n\t\t\t\t\t\t\t\t\t<th style={{textAlign: \"center\"}}>Est. Hours</th>\n\t\t\t\t\t\t\t\t\t<th style={{textAlign: \"center\"}}>Workers</th>\n\t\t\t\t\t\t\t\t\t<th>City</th>\n\t\t\t\t\t\t\t\t</tr>)}\n\t\t\t\t\t\t\t\t{this.state.loaded && (\n\t\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t\t{job_list}\n\t\t\t\t\t\t\t\t\t\t{job_list.length == 0 && (<tr className=\"find-row\">\n\t\t\t\t\t\t\t\t\t\t\t<td colSpan=\"7\">There are no jobs currently listed in this area. Try expanding your search radius.</td>\n\t\t\t\t\t\t\t\t\t\t</tr>)}\n\t\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t\t{!this.state.loaded && (<TableLoading />)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>)}\n\t\t\t\t{!this.props.user.stripe_id && (\n\t\t\t\t\t<div className=\"sign-in-container no-card\">\n\t\t\t\t\t\t<div className=\"sign-up-box\" style={{width: \"50rem\", borderRadius: \"0px\", marginTop: \"0\"}}>\n\t\t\t\t\t\t\t<span className=\"sign-in-title\">Before you continue...</span>\n\t\t\t\t\t\t\t<div style={{textAlign: \"left\", fontSize: \"1rem\"}}>\n\t\t\t\t\t\t\t\t<span style={{fontSize: \"1.1rem\"}}>You need to link your bank account or debit card in order to accept a job. Here's why: </span>\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t<li>When the job is over, we will automatically send earned funds to your account</li>\n\t\t\t\t\t\t\t\t\t<li>Earning will be paid as soon as the customer pays their bill</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"book-now-btn\" onClick={this.onPayout} style={{marginTop: \"1rem\", width: \"20rem\"}}>LINK YOUR PAYOUT METHOD</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}</Fragment>)}\n\n\t\t\t\t{this.state.inp && (\n\t\t\t\t\t<div className=\"sign-in-container no-card\">\n\t\t\t\t\t\t<div className=\"sign-up-box\" style={{width: \"50rem\", borderRadius: \"0px\", marginTop: \"0\"}}>\n\t\t\t\t\t\t\t<span className=\"sign-in-title\">Job In-Progress...</span>\n\t\t\t\t\t\t\t<div style={{textAlign: \"left\", fontSize: \"1rem\"}}>\n\t\t\t\t\t\t\t\t<span style={{fontSize: \"1.1rem\"}}>Please focus on the job at hand before you book another job. Once you invoice the customer and complete your current job, you may book another. </span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Link className=\"book-now-btn\" to=\"/worker/dashboard/manage\" style={{marginTop: \"1rem\"}}>CURRENT JOB</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</Fragment>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = state => ({\n  jobs: state.jobs,\n  user: state.auth.user,\n  assignments: state.assignments\n});\n\nexport default connect(mapStateToProps,{db_get_loc_jobs, db_get_pending_assignments})(withRouter(FindJob));\n\n"]},"metadata":{},"sourceType":"module"}