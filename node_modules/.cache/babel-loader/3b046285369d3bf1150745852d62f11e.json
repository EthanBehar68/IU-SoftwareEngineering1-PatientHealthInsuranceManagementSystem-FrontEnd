{"ast":null,"code":"import _objectSpread from \"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/jackjoliet/Documents/marketplace/front/src/containers/Worker/Account.js\";\nimport React, { Component, Fragment } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport empty from 'is-empty';\nimport uuid from 'uuid';\nimport qs from 'query-string';\nimport { logoutUser } from \"../../store/actions/auth\";\nimport { db_complete_payout_link, db_generate_stripe_link } from \"../../store/actions/payments\";\nimport { STRIPE_CLIENT_ID, STRIPE_REDIRECT_URI } from \"../../utils/constants\";\nimport { db_update_basic_info, db_change_password } from \"../../store/actions/workers\";\nimport powered from '../../images/stripepowered.png';\nimport WorkerNavbar from '../../components/Nav/WorkerNavbar';\nimport ErrorBanner from '../../components/Graphics/ErrorBanner';\nimport Loading from '../../components/Graphics/Loading';\nimport ImagePicker from '../../components/Graphics/ImagePicker';\nimport { defaultPic } from '../../images/defaultPic.png';\n\nclass Account extends Component {\n  constructor(props) {\n    super(props);\n\n    this.imgHandler = e => {\n      e.preventDefault();\n      if (!empty(e.target.files)) this.imgChange(e, this.setImgState);\n    };\n\n    this.imgChange = (e, cb) => {\n      var reader = new FileReader();\n\n      reader.onload = function () {\n        cb(reader.result);\n      };\n\n      reader.readAsDataURL(e.target.files[0]);\n    };\n\n    this.setImgState = blob => {\n      this.setState(_objectSpread({}, this.state, {\n        src: blob\n      }));\n    };\n\n    this.setImg = blob => {\n      this.setState(_objectSpread({}, this.state, {\n        profile: blob,\n        src: null\n      }));\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value,\n        error: ''\n      });\n    };\n\n    this.onPayout = async e => {\n      e.preventDefault();\n      const random_key = uuid.v4();\n      localStorage.setItem('stripe_unique_id', random_key);\n      const stripe_link = `https://connect.stripe.com/express/oauth/authorize?\n\t\t\tredirect_uri=${STRIPE_REDIRECT_URI}&\n\t\t\tclient_id=${STRIPE_CLIENT_ID}&\n\t\t\tstripe_user[email]=${this.props.user.email}&\n\t\t\tstripe_user[business_type]=individual&\n\t\t\tstripe_user[phone_number]=${this.props.user.phone}&\n\t\t\tstripe_user[country]=US&\n\t\t\tstripe_user[first_name]=${this.props.user.first}&\n\t\t\tstripe_user[last_name]=${this.props.user.last}&\n\t\t\tstripe_user[product_description]=Worker for Joe's Odd Jobs\n\t\t`;\n      window.open(stripe_link);\n    };\n\n    this.onSave = async e => {\n      e.preventDefault();\n      this.setState(_objectSpread({}, this.state, {\n        loaded: false\n      }));\n      const resp = await this.props.db_update_basic_info(this.state);\n      this.setState(_objectSpread({}, this.state, {\n        loaded: true,\n        error: resp.complete ? \"\" : resp.message\n      }));\n    };\n\n    this.changePassword = async e => {\n      e.preventDefault();\n      this.setState(_objectSpread({}, this.state, {\n        loaded: false\n      }));\n      const resp = await this.props.db_change_password(this.state);\n      this.setState(_objectSpread({}, this.state, {\n        loaded: true,\n        error: resp.complete ? \"\" : resp.message,\n        password: \"\",\n        oldpassword: \"\",\n        password2: \"\"\n      }));\n    };\n\n    this.state = {\n      id: this.props.user.id,\n      first: this.props.user.first,\n      last: this.props.user.last,\n      email: this.props.user.email,\n      phone: this.props.user.phone,\n      address: this.props.user.address,\n      city: this.props.user.city,\n      state: this.props.user.state,\n      zip: this.props.user.zip,\n      profile: this.props.user.profile,\n      password: \"\",\n      password2: \"\",\n      oldpassword: \"\",\n      error: \"\",\n      loaded: true,\n      src: null,\n      section: empty(this.props.match.params) ? \"basic\" : this.props.match.params.section,\n      options: false,\n      small: false,\n      stripe_login: \"\"\n    };\n  }\n\n  resize() {\n    let currentHideNav = window.innerWidth <= 760;\n\n    if (currentHideNav !== this.state.small) {\n      if (currentHideNav) this.setState({\n        small: true,\n        options: false\n      });\n\n      if (!currentHideNav) {\n        this.setState({\n          small: false,\n          options: true\n        });\n      }\n    }\n  }\n\n  async componentDidMount() {\n    window.addEventListener(\"resize\", this.resize.bind(this));\n    this.resize();\n\n    if (this.props.match.params.section == \"payout\" && !empty(qs.parse(this.props.location.search, {\n      ignoreQueryPrefix: true\n    }).code)) {\n      const resp = await db_complete_payout_link({\n        code: qs.parse(this.props.location.search, {\n          ignoreQueryPrefix: true\n        }).code,\n        user: this.props.user\n      });\n      if (resp.complete) window.location = \"/worker/dashboard/find\";\n    }\n\n    if (!empty(this.props.user.stripe_id)) {\n      const resp = await db_generate_stripe_link(this.props.user.stripe_id);\n      if (resp.complete) this.setState(_objectSpread({}, this.state, {\n        stripe_login: resp.loginlink\n      }));\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (!empty(nextProps.match.params)) {\n      if (nextProps.match.params.section != this.props.match.params.section) {\n        this.setState(_objectSpread({}, this.state, {\n          section: nextProps.match.params.section\n        }));\n      }\n    }\n  }\n\n  render() {\n    const _this$state = this.state,\n          section = _this$state.section,\n          options = _this$state.options,\n          small = _this$state.small;\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(WorkerNavbar, {\n      active: \"account\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }), !this.state.loaded && React.createElement(Loading, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }), !empty(this.state.error) && React.createElement(ErrorBanner, {\n      error: this.state.error,\n      onHide: () => this.setState(_objectSpread({}, this.state, {\n        error: ''\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }), !empty(this.state.src) && React.createElement(ImagePicker, {\n      cancel: () => {\n        this.setState(_objectSpread({}, this.state, {\n          src: null\n        }));\n      },\n      setImg: this.setImg,\n      src: this.state.src,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }), this.state.loaded && React.createElement(\"div\", {\n      className: \"account-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, options && React.createElement(\"div\", {\n      className: \"account-small-sidebar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(Link, {\n      className: \"sidebar-row\",\n      style: section == \"basic\" ? {\n        color: \"#3f6bb4\"\n      } : {},\n      to: \"/worker/dashboard/account/basic\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, \"Basic Info\"), React.createElement(Link, {\n      className: \"sidebar-row\",\n      style: section == \"payment\" ? {\n        color: \"#3f6bb4\"\n      } : {},\n      to: \"/worker/dashboard/account/payout\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"Payout Method\"), React.createElement(Link, {\n      className: \"sidebar-row\",\n      style: section == \"password\" ? {\n        color: \"#3f6bb4\"\n      } : {},\n      to: \"/worker/dashboard/account/password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, \"Password Reset\"), React.createElement(\"div\", {\n      className: \"sidebar-row\",\n      style: {\n        fontWeight: \"500\"\n      },\n      onClick: () => {\n        this.props.logoutUser();\n        this.props.history.push('/worker');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"Sign Out\")), React.createElement(\"div\", {\n      className: \"account-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"account-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"account-title-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"account-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"Account\"), React.createElement(\"div\", {\n      className: \"find-options\",\n      onClick: () => this.setState({\n        options: !options\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"svg\", {\n      className: \"blue-options\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      width: \"16\",\n      height: \"16\",\n      viewBox: \"0 0 24 24\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"path\", {\n      d: \"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }), React.createElement(\"path\", {\n      d: \"M0 0h24v24H0z\",\n      fill: \"none\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      className: \"options-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, \"Menu\"))), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, \"You can view and edit your account info here.\")), React.createElement(\"div\", {\n      className: \"account-sidebar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(Link, {\n      className: \"sidebar-row\",\n      style: section == \"basic\" ? {\n        color: \"#3f6bb4\"\n      } : {},\n      to: \"/worker/dashboard/account/basic\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, \"Basic Info\"), React.createElement(Link, {\n      className: \"sidebar-row\",\n      style: section == \"payout\" ? {\n        color: \"#3f6bb4\"\n      } : {},\n      to: \"/worker/dashboard/account/payout\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, \"Payout Method\"), React.createElement(Link, {\n      className: \"sidebar-row\",\n      style: section == \"password\" ? {\n        color: \"#3f6bb4\"\n      } : {},\n      to: \"/worker/dashboard/account/password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, \"Password Reset\"), React.createElement(\"div\", {\n      style: {\n        flexGrow: \"1\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"sidebar-row\",\n      style: {\n        fontWeight: \"500\",\n        borderTop: \"1px solid rgba(188,190,192,0.5)\",\n        borderBottom: \"none\"\n      },\n      onClick: () => {\n        this.props.logoutUser();\n        this.props.history.push('/worker');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, \"Sign Out\")), React.createElement(\"div\", {\n      className: \"account-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, this.state.section == \"basic\" && React.createElement(\"div\", {\n      className: \"basic-info-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"account-subtitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, \"Basic Info: \"), React.createElement(\"div\", {\n      className: \"input-side-container account-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-side\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"field-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, \"First Name\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"text-field\",\n      id: \"first\",\n      value: this.state.first,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"input-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"field-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, \"Last Name\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"text-field\",\n      id: \"last\",\n      value: this.state.last,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"input-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"field-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, \"Email\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"text-field\",\n      id: \"email\",\n      value: this.state.email,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"input-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"field-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, \"Phone\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"text-field\",\n      id: \"phone\",\n      value: this.state.phone,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"input-side\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"field-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, \"Address\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"text-field\",\n      id: \"address\",\n      value: this.state.address,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"input-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"field-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, \"State\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"text-field\",\n      id: \"state\",\n      value: this.state.state,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"input-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"field-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, \"City\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"text-field\",\n      id: \"city\",\n      value: this.state.city,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"input-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"field-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, \"Zip\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"text-field\",\n      id: \"zip\",\n      value: this.state.zip,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"picture-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"profile-pic\",\n      src: empty(this.state.src) ? `https://joesappstorage.blob.core.windows.net/${this.props.user.id}worker/profile` : this.state.profile,\n      alt: defaultPic,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"input-group bottom-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"field-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, \"Headshot\"), React.createElement(\"input\", {\n      id: \"image\",\n      className: \"file-input\",\n      type: \"file\",\n      accept: \"image/*\",\n      name: \"IMAGE\",\n      onChange: this.imgHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }))), React.createElement(\"button\", {\n      className: \"sign-in-btn account-full\",\n      style: small ? {\n        width: \"98%\"\n      } : {},\n      onClick: this.onSave,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, \"Save\"))), this.state.section == \"payout\" && React.createElement(\"div\", {\n      className: \"basic-info-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"flex-between\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"account-subtitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, \"Payout Method: \"), React.createElement(\"img\", {\n      className: \"stripe-powered-img\",\n      src: powered,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    })), empty(this.props.user.stripe_id) && React.createElement(\"div\", {\n      className: \"input-side-container account-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, \"In order to be able to pay you for your hard work, we must link your bank account or debit card. To do this, we use Stripe to securely collect and store your information. We will never see your actual data and Stripe's privacy is an industry standard. Clicking the link below will redirect you to a secure stripe webpage. Follow the steps in order to link your payout method.\"), React.createElement(\"button\", {\n      className: \"sign-in-btn account-full\",\n      style: small ? {\n        width: \"98%\"\n      } : {},\n      onClick: this.onPayout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, \"Link Payout Method\")), !empty(this.props.user.stripe_id) && React.createElement(\"div\", {\n      className: \"input-side-container account-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, \"To view or edit your payout information, you must login to Stripe through your connected account that you used to set up your payment method. Below is a sign in link to Stripe.\"), React.createElement(\"button\", {\n      className: \"sign-in-btn account-full\",\n      style: small ? {\n        width: \"98%\"\n      } : {},\n      onClick: () => window.open(this.state.stripe_login),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, \"Login to Stripe\"))), this.state.section == \"password\" && React.createElement(\"div\", {\n      className: \"account-password-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"account-subtitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, \"Password Reset: \"), React.createElement(\"div\", {\n      className: \"input-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"field-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, \"Old Password\"), React.createElement(\"input\", {\n      type: \"password\",\n      className: \"text-field\",\n      id: \"oldpassword\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"input-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"field-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, \"New Password\"), React.createElement(\"input\", {\n      type: \"password\",\n      className: \"text-field\",\n      id: \"password\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"input-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"field-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, \"Confirm New Password\"), React.createElement(\"input\", {\n      type: \"password\",\n      className: \"text-field\",\n      id: \"password2\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    })), this.state.password != this.state.password2 && React.createElement(\"span\", {\n      style: {\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, \"Passwords don't match\"), React.createElement(\"button\", {\n      className: \"sign-in-btn account\",\n      onClick: this.changePassword,\n      disabled: this.state.password != this.state.password2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, \"Reset Password\"))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  user: state.auth.user,\n  errors: state.errors\n});\n\nexport default connect(mapStateToProps, {\n  logoutUser,\n  db_update_basic_info,\n  db_change_password\n})(withRouter(Account));","map":{"version":3,"sources":["/Users/jackjoliet/Documents/marketplace/front/src/containers/Worker/Account.js"],"names":["React","Component","Fragment","Link","withRouter","connect","empty","uuid","qs","logoutUser","db_complete_payout_link","db_generate_stripe_link","STRIPE_CLIENT_ID","STRIPE_REDIRECT_URI","db_update_basic_info","db_change_password","powered","WorkerNavbar","ErrorBanner","Loading","ImagePicker","defaultPic","Account","constructor","props","imgHandler","e","preventDefault","target","files","imgChange","setImgState","cb","reader","FileReader","onload","result","readAsDataURL","blob","setState","state","src","setImg","profile","onChange","id","value","error","onPayout","random_key","v4","localStorage","setItem","stripe_link","user","email","phone","first","last","window","open","onSave","loaded","resp","complete","message","changePassword","password","oldpassword","password2","address","city","zip","section","match","params","options","small","stripe_login","resize","currentHideNav","innerWidth","componentDidMount","addEventListener","bind","parse","location","search","ignoreQueryPrefix","code","stripe_id","loginlink","componentWillReceiveProps","nextProps","render","color","fontWeight","history","push","flexGrow","borderTop","borderBottom","width","mapStateToProps","auth","errors"],"mappings":"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","sourcesContent":["import React, {Component, Fragment} from 'react';\nimport {Link, withRouter} from 'react-router-dom';\nimport {connect} from \"react-redux\";\nimport empty from 'is-empty';\nimport uuid from 'uuid';\nimport qs from 'query-string';\nimport {logoutUser} from \"../../store/actions/auth\";\nimport {db_complete_payout_link, db_generate_stripe_link} from \"../../store/actions/payments\";\nimport {STRIPE_CLIENT_ID, STRIPE_REDIRECT_URI} from \"../../utils/constants\";\nimport {db_update_basic_info, db_change_password} from \"../../store/actions/workers\";\n\nimport powered from '../../images/stripepowered.png';\n\nimport WorkerNavbar from '../../components/Nav/WorkerNavbar';\nimport ErrorBanner from '../../components/Graphics/ErrorBanner';\nimport Loading from '../../components/Graphics/Loading';\nimport ImagePicker from '../../components/Graphics/ImagePicker';\n\nimport {defaultPic} from '../../images/defaultPic.png';\n\nclass Account extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tid: this.props.user.id,\n\t\t\tfirst: this.props.user.first,\n      last: this.props.user.last,\n      email: this.props.user.email,\n      phone: this.props.user.phone,\n      address: this.props.user.address,\n      city: this.props.user.city,\n      state: this.props.user.state,\n      zip: this.props.user.zip,\n      profile: this.props.user.profile,\n      password: \"\",\n      password2: \"\",\n      oldpassword: \"\",\n      error: \"\",\n      loaded: true,\n      src: null,\n      section: empty(this.props.match.params) ? \"basic\" : this.props.match.params.section,\n      options: false,\n      small: false,\n      stripe_login: \"\"\n\t\t};\n\t}\n\n\tresize() {\n    let currentHideNav = (window.innerWidth <= 760);\n    if (currentHideNav !== this.state.small) {\n        if(currentHideNav) this.setState({small: true, options: false});\n        if(!currentHideNav) {\n\t\t    \tthis.setState({small: false, options: true});\n\t\t    }\n    }\n\t}\n\n\tasync componentDidMount() {\n\t\twindow.addEventListener(\"resize\", this.resize.bind(this));\n    this.resize();\n\n    if(this.props.match.params.section == \"payout\" && !empty(qs.parse(this.props.location.search, { ignoreQueryPrefix: true }).code)) {\n    \tconst resp = await db_complete_payout_link({\n    \t\tcode: qs.parse(this.props.location.search, { ignoreQueryPrefix: true }).code,\n    \t\tuser: this.props.user\n    \t});\n    \tif(resp.complete) window.location = \"/worker/dashboard/find\";\n    }\n\n    if(!empty(this.props.user.stripe_id)) {\n    \tconst resp = await db_generate_stripe_link(this.props.user.stripe_id);\n    \tif(resp.complete) this.setState({...this.state, stripe_login: resp.loginlink});\n    }\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif(!empty(nextProps.match.params)) {\n\t\t\tif(nextProps.match.params.section != this.props.match.params.section) {\n\t\t\t\tthis.setState({...this.state, section: nextProps.match.params.section});\n\t\t\t}\n\t\t}\n\t}\n\n\timgHandler = e => {\n  \te.preventDefault();\n  \tif(!empty(e.target.files)) this.imgChange(e, this.setImgState);\n  }\n\n  imgChange = (e, cb) => {\n\t\tvar reader = new FileReader();\n    reader.onload = function() { cb(reader.result) };\n    reader.readAsDataURL(e.target.files[0]);\n\t}\n\n\tsetImgState = blob => {\n\t\tthis.setState({\n    \t...this.state,\n    \tsrc: blob\n    });\n\t}\n\n\tsetImg = blob => {\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tprofile: blob,\n\t\t\tsrc: null\n\t\t});\n\t}\n\n  onChange = e => {\n    this.setState({ \n    \t[e.target.id]: e.target.value,\n    \terror: ''\n    });\n  };\n\n  onPayout = async e => {\n  \te.preventDefault();\n  \tconst random_key = uuid.v4();\n\t\tlocalStorage.setItem('stripe_unique_id', random_key);\n\t\tconst stripe_link = `https://connect.stripe.com/express/oauth/authorize?\n\t\t\tredirect_uri=${STRIPE_REDIRECT_URI}&\n\t\t\tclient_id=${STRIPE_CLIENT_ID}&\n\t\t\tstripe_user[email]=${this.props.user.email}&\n\t\t\tstripe_user[business_type]=individual&\n\t\t\tstripe_user[phone_number]=${this.props.user.phone}&\n\t\t\tstripe_user[country]=US&\n\t\t\tstripe_user[first_name]=${this.props.user.first}&\n\t\t\tstripe_user[last_name]=${this.props.user.last}&\n\t\t\tstripe_user[product_description]=Worker for Joe's Odd Jobs\n\t\t`;\n\t\twindow.open(stripe_link);\n  }\n\n  onSave = async e => {\n  \te.preventDefault();\n  \tthis.setState({...this.state, loaded: false});\n  \tconst resp = await this.props.db_update_basic_info(this.state);\n  \tthis.setState({...this.state, loaded: true, error: resp.complete ? \"\" : resp.message});\n  }\n\n  changePassword = async e => {\n  \te.preventDefault();\n  \tthis.setState({...this.state, loaded: false});\n  \tconst resp = await this.props.db_change_password(this.state);\n  \tthis.setState({\n  \t\t...this.state, \n  \t\tloaded: true, \n  \t\terror: resp.complete ? \"\" : resp.message, \n  \t\tpassword: \"\",\n  \t\toldpassword: \"\",\n  \t\tpassword2: \"\"\n  \t});\n  }\n\n\trender() {\n\t\tconst {section, options, small} = this.state;\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<WorkerNavbar active=\"account\"/>\n\t\t\t\t{!this.state.loaded && (<Loading />)}\n\t\t\t\t{!empty(this.state.error) && (<ErrorBanner error={this.state.error} onHide={() => this.setState({...this.state, error: ''})}/>)}\n\t\t\t\t{!empty(this.state.src) && (<ImagePicker cancel={() => {this.setState({...this.state, src: null})}} setImg={this.setImg} src={this.state.src}/>)}\n\t\t\t\t{this.state.loaded && (<div className=\"account-container\">\n\t\t\t\t\t{options && (<div className=\"account-small-sidebar\">\n\t\t\t\t\t\t<Link className=\"sidebar-row\" style={section == \"basic\" ? {color: \"#3f6bb4\"} : {}} to=\"/worker/dashboard/account/basic\">Basic Info</Link>\n\t\t\t\t\t\t<Link className=\"sidebar-row\" style={section == \"payment\" ? {color: \"#3f6bb4\"} : {}} to=\"/worker/dashboard/account/payout\">Payout Method</Link>\n\t\t\t\t\t\t<Link className=\"sidebar-row\" style={section == \"password\" ? {color: \"#3f6bb4\"} : {}} to=\"/worker/dashboard/account/password\">Password Reset</Link>\n\t\t\t\t\t\t<div className=\"sidebar-row\" style={{fontWeight: \"500\"}} onClick={() => {this.props.logoutUser(); this.props.history.push('/worker');}}>Sign Out</div>\n\t\t\t\t\t</div>)}\n\t\t\t\t\t<div className=\"account-box\">\n\t\t\t\t\t\t<div className=\"account-header\">\n\t\t\t\t\t\t\t<div className=\"account-title-div\">\n\t\t\t\t\t\t\t\t<span className=\"account-title\">Account</span>\n\t\t\t\t\t\t\t\t<div className=\"find-options\" onClick={() => this.setState({options: !options})}><svg className=\"blue-options\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path d=\"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/></svg><span className=\"options-btn\">Menu</span></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span>You can view and edit your account info here.</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"account-sidebar\">\n\t\t\t\t\t\t\t<Link className=\"sidebar-row\" style={section == \"basic\" ? {color: \"#3f6bb4\"} : {}} to=\"/worker/dashboard/account/basic\">Basic Info</Link>\n\t\t\t\t\t\t\t<Link className=\"sidebar-row\" style={section == \"payout\" ? {color: \"#3f6bb4\"} : {}} to=\"/worker/dashboard/account/payout\">Payout Method</Link>\n\t\t\t\t\t\t\t<Link className=\"sidebar-row\" style={section == \"password\" ? {color: \"#3f6bb4\"} : {}} to=\"/worker/dashboard/account/password\">Password Reset</Link>\n\t\t\t\t\t\t\t<div style={{flexGrow: \"1\"}}></div>\n\t\t\t\t\t\t\t<div className=\"sidebar-row\" style={{fontWeight: \"500\", borderTop: \"1px solid rgba(188,190,192,0.5)\", borderBottom: \"none\"}} onClick={() => {this.props.logoutUser(); this.props.history.push('/worker');}}>Sign Out</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"account-body\">\n\t\t\t\t\t\t\t{this.state.section == \"basic\" && (<div className=\"basic-info-box\">\n\t\t\t\t\t\t\t\t<span className=\"account-subtitle\">Basic Info: </span>\n\t\t\t\t\t\t\t\t<div className=\"input-side-container account-input\">\n\t\t\t\t\t\t\t\t\t<div className=\"input-side\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"input-group\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"field-label\">First Name</span>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" className=\"text-field\" id=\"first\" value={this.state.first} onChange={this.onChange}/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"input-group\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"field-label\">Last Name</span>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" className=\"text-field\" id=\"last\" value={this.state.last} onChange={this.onChange}/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"input-group\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"field-label\">Email</span>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" className=\"text-field\" id=\"email\" value={this.state.email} onChange={this.onChange}/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"input-group\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"field-label\">Phone</span>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" className=\"text-field\" id=\"phone\" value={this.state.phone} onChange={this.onChange}/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"input-side\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"input-group\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"field-label\">Address</span>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" className=\"text-field\" id=\"address\" value={this.state.address} onChange={this.onChange}/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"input-group\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"field-label\">State</span>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" className=\"text-field\" id=\"state\" value={this.state.state} onChange={this.onChange}/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"input-group\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"field-label\">City</span>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" className=\"text-field\" id=\"city\" value={this.state.city} onChange={this.onChange}/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"input-group\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"field-label\">Zip</span>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" className=\"text-field\" id=\"zip\" value={this.state.zip} onChange={this.onChange}/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"picture-group\">\n\t\t\t\t\t\t\t\t\t\t<img className=\"profile-pic\" src={empty(this.state.src) ? `https://joesappstorage.blob.core.windows.net/${this.props.user.id}worker/profile` : this.state.profile} alt={defaultPic}/>\n\t\t\t\t\t\t\t\t\t\t<div className=\"input-group bottom-form\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"field-label\">Headshot</span>\n\t\t\t\t\t\t\t\t\t\t\t<input id=\"image\" className=\"file-input\" type=\"file\" accept=\"image/*\" name=\"IMAGE\" onChange={this.imgHandler}/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<button className=\"sign-in-btn account-full\" style={small ? {width: \"98%\"} :{}} onClick={this.onSave}>Save</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>)}\n\t\t\t\t\t\t\t{this.state.section == \"payout\" && (<div className=\"basic-info-box\">\n\t\t\t\t\t\t\t\t<div className=\"flex-between\">\n\t\t\t\t\t\t\t\t\t<span className=\"account-subtitle\">Payout Method: </span>\n\t\t\t\t\t\t\t\t\t<img className=\"stripe-powered-img\" src={powered} alt=\"\"/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{empty(this.props.user.stripe_id) && (<div className=\"input-side-container account-input\">\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\tIn order to be able to pay you for your hard work, we must link your bank account or debit card.\n\t\t\t\t\t\t\t\t\t\tTo do this, we use Stripe to securely collect and store your information. We will never see your\n\t\t\t\t\t\t\t\t\t\tactual data and Stripe's privacy is an industry standard. Clicking the link below will redirect\n\t\t\t\t\t\t\t\t\t\tyou to a secure stripe webpage. Follow the steps in order to link your payout method.\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<button className=\"sign-in-btn account-full\" style={small ? {width: \"98%\"} :{}} onClick={this.onPayout}>Link Payout Method</button>\n\t\t\t\t\t\t\t\t</div>)}\n\t\t\t\t\t\t\t\t{!empty(this.props.user.stripe_id) && (<div className=\"input-side-container account-input\">\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\tTo view or edit your payout information, you must login to Stripe through your connected account that you\n\t\t\t\t\t\t\t\t\t\tused to set up your payment method. Below is a sign in link to Stripe.\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<button className=\"sign-in-btn account-full\" style={small ? {width: \"98%\"} :{}} onClick={() => window.open(this.state.stripe_login)}>Login to Stripe</button>\n\t\t\t\t\t\t\t\t</div>)}\n\t\t\t\t\t\t\t</div>)}\n\t\t\t\t\t\t\t{this.state.section == \"password\" && (<div className=\"account-password-box\">\n\t\t\t\t\t\t\t\t<span className=\"account-subtitle\">Password Reset: </span>\n\t\t\t\t\t\t\t\t<div className=\"input-group\">\n\t\t\t\t\t\t\t\t\t<span className=\"field-label\">Old Password</span>\n\t\t\t\t\t\t\t\t\t<input type=\"password\" className=\"text-field\" id=\"oldpassword\" onChange={this.onChange}/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"input-group\">\n\t\t\t\t\t\t\t\t\t<span className=\"field-label\">New Password</span>\n\t\t\t\t\t\t\t\t\t<input type=\"password\" className=\"text-field\" id=\"password\" onChange={this.onChange}/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"input-group\">\n\t\t\t\t\t\t\t\t\t<span className=\"field-label\">Confirm New Password</span>\n\t\t\t\t\t\t\t\t\t<input type=\"password\" className=\"text-field\" id=\"password2\" onChange={this.onChange}/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{this.state.password != this.state.password2 && (<span style={{color: \"red\"}}>Passwords don't match</span>)}\n\t\t\t\t\t\t\t\t<button className=\"sign-in-btn account\" onClick={this.changePassword} disabled={this.state.password != this.state.password2}>Reset Password</button>\n\t\t\t\t\t\t\t</div>)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>)}\n\t\t\t</Fragment>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = state => ({\n  user: state.auth.user,\n  errors: state.errors\n});\n\nexport default connect(mapStateToProps,{logoutUser, db_update_basic_info, db_change_password})(withRouter(Account));\n"]},"metadata":{},"sourceType":"module"}