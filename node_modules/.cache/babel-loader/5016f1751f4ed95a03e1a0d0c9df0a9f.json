{"ast":null,"code":"import _objectSpread from \"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport { SET_CURRENT_USER, UPDATE_CURRENT_USER } from \"../types\";\nimport { apiCall } from '../../services/api';\nexport const state_get_customer = payload => ({\n  type: SET_CURRENT_USER,\n  payload\n});\nexport const state_update_customer = payload => ({\n  type: UPDATE_CURRENT_USER,\n  payload: _objectSpread({}, payload, {\n    db: \"customers\"\n  })\n});\nexport const db_get_customer = user => dispatch => {\n  return apiCall('get', `/api/customers/${user.id}`).then(function (res) {\n    dispatch(state_get_customer(_objectSpread({}, user, {}, res[0])));\n    return {\n      complete: true\n    };\n  }).catch(function (err) {\n    return {\n      complete: false,\n      message: err.error\n    };\n  });\n};\nexport const db_update_basic_info = customer => dispatch => {\n  return apiCall('put', `/api/customers/${customer.id}`, customer).then(function (res) {\n    dispatch(state_update_customer(res[0]));\n    return {\n      complete: true\n    };\n  }).catch(function (error) {\n    console.log(error);\n    return {\n      complete: false,\n      message: error.data.error\n    };\n  });\n};\nexport const db_change_password = customer => dispatch => {\n  return apiCall('put', `/api/customers/password/${customer.id}`, customer).then(function (res) {\n    dispatch(state_update_customer(res[0]));\n    return {\n      complete: true\n    };\n  }).catch(function (error) {\n    return {\n      complete: false,\n      message: error.data.error\n    };\n  });\n};\nexport const db_forgot_password = customer => dispatch => {\n  return apiCall('post', `/api/reset/customer`, customer).then(function (res) {\n    return {\n      complete: true\n    };\n  }).catch(function (error) {\n    console.log(error);\n    return {\n      complete: false,\n      message: error.data.error\n    };\n  });\n};\nexport const db_update_card = customer => dispatch => {\n  return apiCall('put', `/api/customers/card`, customer).then(function (res) {\n    dispatch(state_update_customer(res[0]));\n    return {\n      complete: true\n    };\n  }).catch(function (error) {\n    console.log(error);\n    return {\n      complete: false,\n      message: error.data.error\n    };\n  });\n};","map":{"version":3,"sources":["/Users/jackjoliet/Documents/marketplace/front/src/store/actions/customers.js"],"names":["SET_CURRENT_USER","UPDATE_CURRENT_USER","apiCall","state_get_customer","payload","type","state_update_customer","db","db_get_customer","user","dispatch","id","then","res","complete","catch","err","message","error","db_update_basic_info","customer","console","log","data","db_change_password","db_forgot_password","db_update_card"],"mappings":"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","sourcesContent":["import {SET_CURRENT_USER, UPDATE_CURRENT_USER} from \"../types\";\nimport {apiCall} from '../../services/api';\n\nexport const state_get_customer = payload => ({\n\ttype: SET_CURRENT_USER,\n\tpayload\n});\n\nexport const state_update_customer = payload => ({\n\ttype: UPDATE_CURRENT_USER,\n\tpayload: {...payload, db: \"customers\"}\n});\n\nexport const db_get_customer = user => dispatch => {\n\treturn apiCall('get', `/api/customers/${user.id}`)\n\t.then(function(res) {\n\t\tdispatch(state_get_customer({...user, ...res[0]}));\n\t\treturn {complete: true};\n\t})\n\t.catch(function(err) {\n\t\treturn {complete: false, message: err.error};\n\t});\n}\n\nexport const db_update_basic_info = customer => dispatch => {\n\treturn apiCall('put', `/api/customers/${customer.id}`, customer)\n\t.then(function(res) {\n\t\tdispatch(state_update_customer(res[0]));\n\t\treturn {complete: true};\n\t})\n\t.catch(function(error) {\n\t\tconsole.log(error);\n\t\treturn {complete: false, message: error.data.error};\n\t});\n}\n\nexport const db_change_password = customer => dispatch => {\n\treturn apiCall('put', `/api/customers/password/${customer.id}`, customer)\n\t.then(function(res) {\n\t\tdispatch(state_update_customer(res[0]));\n\t\treturn {complete: true};\n\t})\n\t.catch(function(error) {\n\t\treturn {complete: false, message: error.data.error};\n\t});\n}\n\nexport const db_forgot_password = customer => dispatch => {\n\treturn apiCall('post', `/api/reset/customer`, customer)\n\t.then(function(res) {\n\t\treturn {complete: true};\n\t})\n\t.catch(function(error) {\n\t\tconsole.log(error);\n\t\treturn {complete: false, message: error.data.error};\n\t});\n}\n\nexport const db_update_card = customer => dispatch => {\n\treturn apiCall('put', `/api/customers/card`, customer)\n\t.then(function(res) {\n\t\tdispatch(state_update_customer(res[0]));\n\t\treturn {complete: true};\n\t})\n\t.catch(function(error) {\n\t\tconsole.log(error);\n\t\treturn {complete: false, message: error.data.error};\n\t});\n}\n\n\n"]},"metadata":{},"sourceType":"module"}