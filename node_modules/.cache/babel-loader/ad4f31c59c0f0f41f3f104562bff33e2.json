{"ast":null,"code":"import _objectSpread from \"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/jackjoliet/Documents/marketplace/front/src/containers/Admin/AdminDashboard.js\";\nimport React, { Component, Fragment } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport moment from 'moment';\nimport empty from 'is-empty';\nimport { db_admin_get_products, db_admin_get_orders, db_export_table, db_add_product } from '../../store/actions/admin';\nimport { admin_data_types, status_filter_types } from '../../utils/options';\nimport AdminNavbar from '../../components/Nav/AdminNavbar';\nimport AdminRow from '../../components/Rows/AdminRow';\nimport TableLoading from '../../components/Graphics/TableLoading';\nimport Dropdown from '../../components/Forms/Dropdown';\nimport AdminDetail from '../../components/Forms/AdminDetail';\n\nclass AdminDashboard extends Component {\n  constructor(props) {\n    super(props);\n\n    this.imgHandler = e => {\n      e.preventDefault();\n      if (e.target.files.length > 0) this.imgChange(e, this.setImgState);\n    };\n\n    this.imgChange = (e, cb) => {\n      var reader = new FileReader();\n\n      reader.onload = function () {\n        cb(reader.result);\n      };\n\n      reader.readAsDataURL(e.target.files[0]);\n    };\n\n    this.setImgState = blob => {\n      this.setState(_objectSpread({}, this.state, {\n        product: _objectSpread({}, this.state.product, {\n          photo: blob\n        })\n      }));\n    };\n\n    this.onChange = e => {\n      e.preventDefault();\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    this.onProductChange = e => {\n      e.preventDefault();\n      this.setState(_objectSpread({}, this.state, {\n        product: _objectSpread({}, this.state.product, {\n          [e.target.id]: e.target.value\n        })\n      }));\n    };\n\n    this.exportData = () => {\n      this.props.db_export_table(this.state.table, this.state.location, this.state.table + \" export\");\n    };\n\n    this.getData = async table => {\n      if (table == \"products\") {\n        const resp = await this.props.db_admin_get_jobs({\n          page: this.state.page,\n          amount: this.state.amount\n        });\n        if (resp.complete) return true;\n      }\n\n      if (table == \"orders\") {\n        const resp = await this.props.db_admin_get_customers({\n          page: this.state.page,\n          amount: this.state.amount\n        });\n        if (resp.complete) return true;\n      }\n    };\n\n    this.nextPage = async () => {\n      await this.setState(_objectSpread({}, this.state, {\n        loaded: false,\n        page: this.state.page + 1\n      }));\n      await this.getData(this.state.table);\n      this.setState(_objectSpread({}, this.state, {\n        loaded: true\n      }));\n    };\n\n    this.prevPage = async () => {\n      await this.setState(_objectSpread({}, this.state, {\n        loaded: false,\n        page: this.state.page - 1\n      }));\n      await this.getData(this.state.table);\n      this.setState(_objectSpread({}, this.state, {\n        loaded: true\n      }));\n    };\n\n    this.handleDataChange = async value => {\n      await this.setState(_objectSpread({}, this.state, {\n        loaded: false\n      }));\n      if (!empty(value)) await this.getData(value.value.toLowerCase());\n      this.props.history.push(`/admin/dashboard/${empty(value) ? \"\" : value.value.toLowerCase()}`);\n      this.setState(_objectSpread({}, this.state, {\n        loaded: true\n      }));\n    };\n\n    this.handleStatusFilterChange = async value => {\n      await this.setState(_objectSpread({}, this.state, {\n        loaded: false,\n        statusFilter: empty(value) ? \"\" : value.value == \"All\" ? \"\" : value.value\n      }));\n      if (!empty(value)) await this.getData(this.state.table);\n      this.setState(_objectSpread({}, this.state, {\n        loaded: true\n      }));\n    };\n\n    this.locationSearch = async () => {\n      await this.setState(_objectSpread({}, this.state, {\n        loaded: false\n      }));\n      await this.getData(this.state.table);\n      this.setState(_objectSpread({}, this.state, {\n        loaded: true\n      }));\n    };\n\n    this.onHide = () => {\n      this.setState(_objectSpread({}, this.state, {\n        currentData: {}\n      }));\n      document.body.style.overflow = \"auto\";\n    };\n\n    this.setDetail = data => {\n      this.setState(_objectSpread({}, this.state, {\n        currentData: data\n      }));\n      document.body.style.overflow = \"hidden\";\n    };\n\n    this.addProduct = e => {\n      e.preventDefault();\n      this.props.db_add_product(this.state.product);\n    };\n\n    this.state = {\n      loaded: false,\n      table: !empty(this.props.match.params) ? this.props.match.params.table : \"products\",\n      page: 1,\n      amount: 25,\n      currentData: {},\n      location: \"\",\n      options: true,\n      small: false,\n      statusFilter: \"\",\n      product: {\n        product: '',\n        price: '',\n        photo: ''\n      }\n    };\n    this.getData = this.getData.bind(this);\n    this.nextPage = this.nextPage.bind(this);\n    this.prevPage = this.prevPage.bind(this);\n    this.locationSearch = this.locationSearch.bind(this);\n    this.exportData = this.exportData.bind(this);\n  }\n\n  resize() {\n    let currentHideNav = window.innerWidth <= 760;\n\n    if (currentHideNav !== this.state.small) {\n      if (currentHideNav) this.setState({\n        small: true,\n        options: false\n      });\n\n      if (!currentHideNav) {\n        this.setState({\n          small: false,\n          options: true\n        });\n      }\n    }\n  }\n\n  async componentDidMount() {\n    window.addEventListener(\"resize\", this.resize.bind(this));\n    this.resize();\n    await this.getData(this.state.table);\n    this.setState({\n      loaded: true\n    });\n  }\n\n  async componentWillReceiveProps(nextProps) {\n    if (nextProps.match.params != this.props.match.params) {\n      this.setState(_objectSpread({}, this.state, {\n        table: nextProps.match.params.table\n      }));\n    }\n  }\n\n  render() {\n    const _this$state = this.state,\n          table = _this$state.table,\n          radius = _this$state.radius,\n          page = _this$state.page,\n          currentData = _this$state.currentData,\n          small = _this$state.small,\n          statusFilter = _this$state.statusFilter,\n          product = _this$state.product;\n    const admin_data = this.props.admin_data;\n    let data = admin_data.map(d => React.createElement(AdminRow, {\n      key: d.id,\n      data: d,\n      onClick: this.setDetail,\n      table: table,\n      small: small,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }));\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, React.createElement(AdminNavbar, {\n      active: \"home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }), !empty(currentData) && React.createElement(AdminDetail, {\n      hide: this.onHide,\n      data: currentData,\n      table: table,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"dashboard-container admin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"find-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, this.state.options && React.createElement(\"div\", {\n      className: \"find-sidebar admin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"find-sidebar-container admin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"options-close\",\n      onClick: () => this.setState({\n        options: false\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, \"X\"), React.createElement(\"span\", {\n      className: \"sidebar-subtitle admin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, \"Table:\"), React.createElement(\"div\", {\n      className: \"sb-dropdown-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, React.createElement(Dropdown, {\n      options: admin_data_types,\n      onChange: this.handleDataChange,\n      value: empty(table) ? null : {\n        label: table,\n        value: table\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      className: \"sidebar-subtitle admin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, \"XLSX Export:\"), React.createElement(\"button\", {\n      className: \"sign-in-btn admin\",\n      style: {\n        margin: \"0\"\n      },\n      onClick: () => this.exportData(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, \"Export\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"sidebar-subtitle admin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, \"New Product:\"), React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, \"Product\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"product\",\n      className: \"apparel-input\",\n      value: product.name,\n      onChange: this.onProductChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, \"Price\"), React.createElement(\"input\", {\n      className: \"apparel-input\",\n      id: \"price\",\n      type: \"number\",\n      pattern: \"\\\\d*\",\n      value: product.price,\n      onChange: this.onProductChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, \"Photo\"), React.createElement(\"input\", {\n      className: \"file-input\",\n      type: \"file\",\n      accept: \"image/*\",\n      name: \"IMAGE\",\n      onChange: this.imgHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"sign-in-btn admin\",\n      onClick: this.addProduct,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, \"Add\")))), React.createElement(\"div\", {\n      className: \"pagination-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"find-table-section admin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"find-table-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"find-table-header-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, table), React.createElement(\"div\", {\n      className: \"find-options admin\",\n      onClick: () => this.setState({\n        options: !this.state.options\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, React.createElement(\"svg\", {\n      className: \"blue-options admin\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      width: \"16\",\n      height: \"16\",\n      viewBox: \"0 0 24 24\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, React.createElement(\"path\", {\n      d: \"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }), React.createElement(\"path\", {\n      d: \"M0 0h24v24H0z\",\n      fill: \"none\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      className: \"options-btn admin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, \"Options\"))), React.createElement(\"table\", {\n      className: \"find-table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, table == \"products\" && React.createElement(\"tr\", {\n      className: \"find-row heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, \"ID\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, \"PHOTO\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, \"PRODUCT\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, \"PRICE\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, \"ACTIVE\")), table == \"orders\" && React.createElement(\"tr\", {\n      className: \"find-row heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      style: small ? {\n        display: \"none\"\n      } : {},\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, \"ID\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, \"NAME\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, \"PRODUCT\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, \"QUANTITY\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, \"SIZE\"), React.createElement(\"th\", {\n      style: small ? {\n        display: \"none\"\n      } : {},\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, \"PRICE\"), React.createElement(\"th\", {\n      style: small ? {\n        display: \"none\"\n      } : {},\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, \"ORG\"), React.createElement(\"th\", {\n      style: small ? {\n        display: \"none\"\n      } : {},\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, \"STRIPE ID\")), this.state.loaded && React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, data, data.length == 0 && React.createElement(\"tr\", {\n      className: \"find-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      colSpan: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, \"There are no items to see.\"))))), !this.state.loaded && React.createElement(TableLoading, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"pagination-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, page != 1 && React.createElement(\"span\", {\n      className: \"pagination-btn\",\n      onClick: () => this.prevPage(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, \"Previous\"), admin_data.length == this.state.amount && React.createElement(\"span\", {\n      className: \"pagination-btn\",\n      onClick: () => this.nextPage(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, \"Next\"))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  user: state.auth.user,\n  admin_data: state.admin_data\n});\n\nexport default connect(mapStateToProps, {\n  db_admin_get_products,\n  db_admin_get_orders,\n  db_export_table,\n  db_add_product\n})(withRouter(AdminDashboard));","map":{"version":3,"sources":["/Users/jackjoliet/Documents/marketplace/front/src/containers/Admin/AdminDashboard.js"],"names":["React","Component","Fragment","Link","withRouter","connect","moment","empty","db_admin_get_products","db_admin_get_orders","db_export_table","db_add_product","admin_data_types","status_filter_types","AdminNavbar","AdminRow","TableLoading","Dropdown","AdminDetail","AdminDashboard","constructor","props","imgHandler","e","preventDefault","target","files","length","imgChange","setImgState","cb","reader","FileReader","onload","result","readAsDataURL","blob","setState","state","product","photo","onChange","id","value","onProductChange","exportData","table","location","getData","resp","db_admin_get_jobs","page","amount","complete","db_admin_get_customers","nextPage","loaded","prevPage","handleDataChange","toLowerCase","history","push","handleStatusFilterChange","statusFilter","locationSearch","onHide","currentData","document","body","style","overflow","setDetail","data","addProduct","match","params","options","small","price","bind","resize","currentHideNav","window","innerWidth","componentDidMount","addEventListener","componentWillReceiveProps","nextProps","render","radius","admin_data","map","d","label","margin","name","display","mapStateToProps","user","auth"],"mappings":"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","sourcesContent":["import React, {Component, Fragment} from 'react';\nimport {Link, withRouter} from 'react-router-dom';\nimport {connect} from \"react-redux\";\nimport moment from 'moment';\nimport empty from 'is-empty';\n\nimport {db_admin_get_products, db_admin_get_orders, db_export_table, db_add_product} from '../../store/actions/admin';\nimport {admin_data_types, status_filter_types} from '../../utils/options';\n\nimport AdminNavbar from '../../components/Nav/AdminNavbar';\nimport AdminRow from '../../components/Rows/AdminRow';\nimport TableLoading from '../../components/Graphics/TableLoading';\nimport Dropdown from '../../components/Forms/Dropdown';\nimport AdminDetail from '../../components/Forms/AdminDetail';\n\nclass AdminDashboard extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tloaded: false,\n\t\t\ttable: !empty(this.props.match.params) ? this.props.match.params.table : \"products\",\n\t\t\tpage: 1,\n\t\t\tamount: 25,\n\t\t\tcurrentData: {},\n\t\t\tlocation: \"\",\n\t\t\toptions: true,\n\t\t\tsmall: false,\n\t\t\tstatusFilter: \"\",\n\t\t\tproduct: {\n\t\t\t\tproduct: '',\n\t\t\t\tprice: '',\n\t\t\t\tphoto: ''\n\t\t\t}\n\t\t};\n\t\tthis.getData = this.getData.bind(this);\n\t\tthis.nextPage = this.nextPage.bind(this);\n\t\tthis.prevPage = this.prevPage.bind(this);\n\t\tthis.locationSearch = this.locationSearch.bind(this);\n\t\tthis.exportData = this.exportData.bind(this);\n\t}\n\n\tresize() {\n    let currentHideNav = (window.innerWidth <= 760);\n    if (currentHideNav !== this.state.small) {\n        if(currentHideNav) this.setState({small: true, options: false});\n        if(!currentHideNav) {\n\t\t    \tthis.setState({small: false, options: true});\n\t\t    }\n    }\n\t}\n\n  async componentDidMount() {\n  \twindow.addEventListener(\"resize\", this.resize.bind(this));\n    this.resize();\n  \tawait this.getData(this.state.table);\n  \tthis.setState({\n  \t\tloaded: true\n  \t});\n  }\n\n  async componentWillReceiveProps(nextProps) {\n\t\tif(nextProps.match.params != this.props.match.params) {\n\t\t\tthis.setState({\n\t\t\t\t...this.state,\n\t\t\t\ttable: nextProps.match.params.table\n\t\t\t})\n\t\t}\n\t}\n\n\timgHandler = e => {\n  \te.preventDefault();\n  \tif(e.target.files.length > 0) this.imgChange(e, this.setImgState);\n  }\n\n  imgChange = (e, cb) => {\n\t\tvar reader = new FileReader();\n    reader.onload = function() { cb(reader.result) };\n    reader.readAsDataURL(e.target.files[0]);\n\t}\n\n\tsetImgState = blob => {\n\t\tthis.setState({\n    \t...this.state,\n    \tproduct: {\n    \t\t...this.state.product,\n    \t\tphoto: blob\n    \t}\n    });\n\t}\n\n  onChange = e => {\n  \te.preventDefault();\n    this.setState({\n    \t[e.target.id]: e.target.value\n    });\n  };\n\n  onProductChange = e => {\n  \te.preventDefault();\n    this.setState({\n    \t...this.state,\n    \tproduct: {\n    \t\t...this.state.product,\n    \t\t[e.target.id]: e.target.value\n    \t}\n    });\n  };\n\n  exportData = () => {\n  \tthis.props.db_export_table(this.state.table, this.state.location, this.state.table + \" export\");\n  }\n\n  getData = async table => {\n  \tif (table == \"products\") {\n  \t\tconst resp = await this.props.db_admin_get_jobs({page: this.state.page, amount: this.state.amount});\n  \t\tif(resp.complete) return true;\n  \t}\n  \tif (table == \"orders\") {\n  \t\tconst resp = await this.props.db_admin_get_customers({page: this.state.page, amount: this.state.amount});\n  \t\tif(resp.complete) return true;\n  \t}\n  }\n\n  nextPage = async () => {\n  \tawait this.setState({\n  \t\t...this.state,\n  \t\tloaded: false,\n  \t\tpage: this.state.page + 1\n  \t});\n  \tawait this.getData(this.state.table);\n  \tthis.setState({\n  \t\t...this.state,\n  \t\tloaded: true\n  \t})\n  }\n\n  prevPage = async () => {\n  \tawait this.setState({\n  \t\t...this.state,\n  \t\tloaded: false,\n  \t\tpage: this.state.page - 1\n  \t});\n  \tawait this.getData(this.state.table);\n  \tthis.setState({\n  \t\t...this.state,\n  \t\tloaded: true\n  \t})\n  }\n\n  handleDataChange = async value => {\n  \tawait this.setState({\n  \t\t...this.state,\n  \t\tloaded: false\n  \t});\n  \tif(!empty(value)) await this.getData(value.value.toLowerCase());\n  \tthis.props.history.push(`/admin/dashboard/${empty(value) ? \"\" : value.value.toLowerCase()}`);\n  \tthis.setState({\n  \t\t...this.state,\n  \t\tloaded: true\n  \t});\n  }\n\n  handleStatusFilterChange = async value => {\n  \tawait this.setState({\n  \t\t...this.state,\n  \t\tloaded: false,\n  \t\tstatusFilter: empty(value) ? \"\" : value.value == \"All\" ? \"\" : value.value\n  \t});\n  \tif(!empty(value)) await this.getData(this.state.table);\n  \tthis.setState({\n  \t\t...this.state,\n  \t\tloaded: true\n  \t});\n  }\n\n  locationSearch = async () => {\n  \tawait this.setState({\n  \t\t...this.state,\n  \t\tloaded: false\n  \t});\n  \tawait this.getData(this.state.table);\n  \tthis.setState({\n  \t\t...this.state,\n  \t\tloaded: true\n  \t})\n  }\n\n  onHide = () => {\n  \tthis.setState({...this.state, currentData: {}});\n  \tdocument.body.style.overflow = \"auto\";\n  }\n\n  setDetail = data => {\n  \tthis.setState({...this.state, currentData: data})\n  \tdocument.body.style.overflow = \"hidden\";\n  }\n\n  addProduct = e => {\n  \te.preventDefault();\n  \tthis.props.db_add_product(this.state.product);\n  }\n\n\trender() {\n\t\tconst {table, radius, page, currentData, small, statusFilter, product} = this.state;\n\t\tconst {admin_data} = this.props;\n\n\t\tlet data = admin_data.map(d => \n\t\t\t<AdminRow \n\t\t\t\tkey={d.id}\n\t\t\t\tdata={d}\n\t\t\t\tonClick={this.setDetail}\n\t\t\t\ttable={table}\n\t\t\t\tsmall={small}\n\t\t\t/>\n\t\t);\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<AdminNavbar active=\"home\" />\n\t\t\t\t{!empty(currentData) && (<AdminDetail hide={this.onHide} data={currentData} table={table}/>)}\n\t\t\t\t<div className=\"dashboard-container admin\">\n\t\t\t\t\t<div className=\"find-container\">\n\t\t\t\t\t\t{this.state.options && (<div className=\"find-sidebar admin\">\n\t\t\t\t\t\t\t<div className=\"find-sidebar-container admin\">\n\t\t\t\t\t\t\t\t<span className=\"options-close\" onClick={() => this.setState({options: false})}>X</span>\n\t\t\t\t\t\t\t\t<span className=\"sidebar-subtitle admin\">Table:</span>\n\t\t\t\t\t\t\t\t<div className=\"sb-dropdown-container\"><Dropdown options={admin_data_types} onChange={this.handleDataChange} value={empty(table) ? null : {label: table, value: table}} /></div>\n\t\t\t\t\t\t\t\t<span className=\"sidebar-subtitle admin\">XLSX Export:</span>\n\t\t\t\t\t\t\t\t<button className=\"sign-in-btn admin\" style={{margin: \"0\"}} onClick={() => this.exportData()}>Export</button>\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<span className=\"sidebar-subtitle admin\">New Product:</span>\n\t\t\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t\t\t<label>Product</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" id=\"product\" className=\"apparel-input\" value={product.name} onChange={this.onProductChange}/>\n\t\t\t\t\t\t\t\t\t<label>Price</label>\n\t\t\t\t\t\t\t\t\t<input className=\"apparel-input\" id=\"price\" type=\"number\" pattern=\"\\d*\" value={product.price} onChange={this.onProductChange}/>\n\t\t\t\t\t\t\t\t\t<label>Photo</label>\n\t\t\t\t\t\t\t\t\t<input className=\"file-input\" type=\"file\" accept=\"image/*\" name=\"IMAGE\" onChange={this.imgHandler}/>\n\t\t\t\t\t\t\t\t\t<button className=\"sign-in-btn admin\" onClick={this.addProduct}>Add</button>\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>)}\n\t\t\t\t\t\t<div className=\"pagination-container\">\n\t\t\t\t\t\t\t<div className=\"find-table-section admin\">\n\t\t\t\t\t\t\t\t<div className=\"find-table-header\">\n\t\t\t\t\t\t\t\t\t<span className=\"find-table-header-title\">{table}</span>\n\t\t\t\t\t\t\t\t\t<div className=\"find-options admin\" onClick={() => this.setState({options: !this.state.options})}><svg className=\"blue-options admin\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path d=\"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/></svg><span className=\"options-btn admin\">Options</span></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<table className=\"find-table\">\n\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t{table == \"products\" && (<tr className=\"find-row heading\">\n\t\t\t\t\t\t\t\t\t\t\t<th>ID</th>\n\t\t\t\t\t\t\t\t\t\t\t<th>PHOTO</th>\n\t\t\t\t\t\t\t\t\t\t\t<th>PRODUCT</th>\n\t\t\t\t\t\t\t\t\t\t\t<th>PRICE</th>\n\t\t\t\t\t\t\t\t\t\t\t<th>ACTIVE</th>\n\t\t\t\t\t\t\t\t\t\t</tr>)}\n\t\t\t\t\t\t\t\t\t\t{table == \"orders\" && (<tr className=\"find-row heading\">\n\t\t\t\t\t\t\t\t\t\t\t<th style={small ? {display: \"none\"} : {}}>ID</th>\n\t\t\t\t\t\t\t\t\t\t\t<th>NAME</th>\n\t\t\t\t\t\t\t\t\t\t\t<th>PRODUCT</th>\n\t\t\t\t\t\t\t\t\t\t\t<th>QUANTITY</th>\n\t\t\t\t\t\t\t\t\t\t\t<th>SIZE</th>\n\t\t\t\t\t\t\t\t\t\t\t<th style={small ? {display: \"none\"} : {}}>PRICE</th>\n\t\t\t\t\t\t\t\t\t\t\t<th style={small ? {display: \"none\"} : {}}>ORG</th>\n\t\t\t\t\t\t\t\t\t\t\t<th style={small ? {display: \"none\"} : {}}>STRIPE ID</th>\n\t\t\t\t\t\t\t\t\t\t</tr>)}\n\t\t\t\t\t\t\t\t\t\t{this.state.loaded && (\n\t\t\t\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t{data}\n\t\t\t\t\t\t\t\t\t\t\t\t{data.length == 0 && (<tr className=\"find-row\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td colSpan=\"5\">There are no items to see.</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>)}\n\t\t\t\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t{!this.state.loaded && (<TableLoading />)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"pagination-div\">\n\t\t\t\t\t\t\t\t{page != 1 && (<span className=\"pagination-btn\" onClick={() => this.prevPage()}>Previous</span>)}\n\t\t\t\t\t\t\t\t{admin_data.length == this.state.amount && (<span className=\"pagination-btn\" onClick={() => this.nextPage()}>Next</span>)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = state => ({\n  user: state.auth.user,\n  admin_data: state.admin_data\n});\n\nexport default connect(mapStateToProps,{db_admin_get_products, db_admin_get_orders, db_export_table, db_add_product})(withRouter(AdminDashboard));\n\n"]},"metadata":{},"sourceType":"module"}