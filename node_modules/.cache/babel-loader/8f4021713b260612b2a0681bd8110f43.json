{"ast":null,"code":"import _objectSpread from \"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/jackjoliet/Documents/marketplace/front/src/components/Forms/ProductCard.js\";\nimport React, { Component, Fragment } from 'react';\nimport SizeInput from '../Graphics/SizeInput';\n\nclass ProductCard extends Component {\n  constructor(props) {\n    super(props);\n\n    this.toParentCart = async e => {\n      const product = this.props.product;\n      e.preventDefault();\n      let products = [];\n      await this.state.sizes.forEach(function (size) {\n        products.push(_objectSpread({}, size, {\n          quantity: parseInt(size.quantity),\n          product: product.name,\n          id: product.id,\n          active: false\n        }));\n      });\n      await this.props.toCart(products);\n      this.setState(_objectSpread({}, this.state, {\n        sizes: []\n      }));\n      this.myform.reset();\n    };\n\n    this.onChange = e => {\n      e.preventDefault();\n      this.setState(_objectSpread({}, this.state, {\n        sizes: [...this.state.sizes.filter(s => {\n          return s.size != e.target.id;\n        }), {\n          size: e.target.id,\n          quantity: e.target.value\n        }]\n      }));\n    };\n\n    this.state = {\n      sizes: []\n    };\n    this.toParentCart = this.toParentCart.bind(this);\n  }\n\n  render() {\n    const product = this.props.product;\n    const sizes = JSON.parse(product.sizes);\n    let size_list = sizes.map(size => React.createElement(SizeInput, {\n      key: size,\n      size: size,\n      onChange: this.onChange,\n      total: sizes.length,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }));\n    return React.createElement(\"form\", {\n      className: \"dashboard-side\",\n      ref: el => this.myform = el,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: `https://pskapparel.blob.core.windows.net/${product.id}product/photo`,\n      alt: \"\",\n      className: \"product-photo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"product-description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"product-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, product.name), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"$\", (product.price / 100).toFixed(2)), React.createElement(\"div\", {\n      className: \"size-input-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, size_list), React.createElement(\"button\", {\n      className: \"add-to-cart\",\n      onClick: this.toParentCart,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"Add to Cart\")));\n  }\n\n}\n\nexport default ProductCard;","map":{"version":3,"sources":["/Users/jackjoliet/Documents/marketplace/front/src/components/Forms/ProductCard.js"],"names":["React","Component","Fragment","SizeInput","ProductCard","constructor","props","toParentCart","e","product","preventDefault","products","state","sizes","forEach","size","push","quantity","parseInt","name","id","active","toCart","setState","myform","reset","onChange","filter","s","target","value","bind","render","JSON","parse","size_list","map","length","el","price","toFixed"],"mappings":"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","sourcesContent":["import React, {Component, Fragment} from 'react';\nimport SizeInput from '../Graphics/SizeInput';\n\nclass ProductCard extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n    \tsizes: []\n    }\n    this.toParentCart = this.toParentCart.bind(this);\n  }\n\n  toParentCart = async e => {\n  \tconst {product} = this.props;\n  \te.preventDefault();\n  \tlet products = [];\n  \tawait this.state.sizes.forEach(function(size) {\n  \t\tproducts.push({...size, quantity: parseInt(size.quantity), product: product.name, id: product.id, active: false});\n  \t});\n  \tawait this.props.toCart(products);\n  \tthis.setState({\n  \t\t...this.state,\n  \t\tsizes: []\n  \t});\n  \tthis.myform.reset();\n  }\n\n  onChange = e => {\n  \te.preventDefault();\n  \tthis.setState({\n  \t\t...this.state,\n  \t\tsizes: [...this.state.sizes.filter(s => {\n\t\t\t\treturn s.size != e.target.id;\n\t\t\t}), {size: e.target.id, quantity: e.target.value}]\n  \t});\n  }\n\n  render() {\n    const {product} = this.props;\n\n    const sizes = JSON.parse(product.sizes);\n    let size_list = sizes.map(size => \n      <SizeInput key={size} size={size} onChange={this.onChange} total={sizes.length}/>\n    );\n\n    return (\n      <form className=\"dashboard-side\" ref={(el) => this.myform = el}>\n\t\t\t\t<img src={`https://pskapparel.blob.core.windows.net/${product.id}product/photo`} alt=\"\" className=\"product-photo\"/>\n\t\t\t\t<div className=\"product-description\">\n\t\t\t\t\t<span className=\"product-title\">{product.name}</span>\n\t\t\t\t\t<span>${(product.price / 100).toFixed(2)}</span>\n\t\t\t\t\t<div className=\"size-input-div\">\n\t\t\t\t\t\t{size_list}\n\t\t\t\t\t</div>\n\t\t\t\t\t<button className=\"add-to-cart\" onClick={this.toParentCart}>Add to Cart</button>\n\t\t\t\t</div>\n\t\t\t</form>\n    );\n  }\n}\n\nexport default ProductCard;\n"]},"metadata":{},"sourceType":"module"}