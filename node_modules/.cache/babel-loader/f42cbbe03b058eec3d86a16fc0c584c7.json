{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component,Fragment}from'react';import{Switch,Route,withRouter,Redirect}from'react-router-dom';import PrivateRoute from'../components/Nav/PrivateRoute';import{connect}from\"react-redux\";import{db_get_admin}from'../store/actions/admin';import{setFooter}from'../store/actions/footer';import Products from'./Customer/Products';import Checkout from'./Customer/Checkout';import AdminDashboard from'./Admin/AdminDashboard';import AdminSignIn from'./Admin/AdminSignIn';import NoRoute from'../components/Graphics/NoRoute';var Main=/*#__PURE__*/function(_Component){_inherits(Main,_Component);function Main(props){var _this;_classCallCheck(this,Main);_this=_possibleConstructorReturn(this,_getPrototypeOf(Main).call(this,props));_this.state={loaded:false};return _this;}_createClass(Main,[{key:\"componentDidMount\",value:function componentDidMount(){return _regeneratorRuntime.async(function componentDidMount$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(this.props.user.db==\"admin\")){_context.next=4;break;}_context.next=3;return _regeneratorRuntime.awrap(this.props.db_get_admin(this.props.user));case 3:this.props.setFooter(\"admin\");case 4:this.setState(_objectSpread({},this.state,{loaded:true}));case 5:case\"end\":return _context.stop();}}},null,this);}},{key:\"render\",value:function render(){return React.createElement(Fragment,null,this.state.loaded&&React.createElement(Switch,null,React.createElement(Route,{exact:true,path:\"/\",component:Products}),React.createElement(Route,{exact:true,path:\"/checkout\",component:Checkout}),React.createElement(Route,{exact:true,path:\"/admin\",render:function render(props){return React.createElement(AdminSignIn,{signin:true});}}),React.createElement(PrivateRoute,{exact:true,path:\"/admin/dashboard\",component:AdminDashboard,portal:\"admin\"}),React.createElement(PrivateRoute,{exact:true,path:\"/admin/dashboard/:table\",component:AdminDashboard,portal:\"admin\"}),React.createElement(Route,{path:\"/\",render:function render(props){return React.createElement(Redirect,{to:\"/\"});}}),React.createElement(Route,{path:\"/admin\",render:function render(props){return React.createElement(Redirect,{to:\"/admin\"});}}),React.createElement(Route,{path:\"*\",render:function render(props){return React.createElement(NoRoute,null);}})));}}]);return Main;}(Component);var mapStateToProps=function mapStateToProps(state){return{user:state.auth.user};};export default connect(mapStateToProps,{db_get_admin:db_get_admin,setFooter:setFooter})(withRouter(Main));","map":{"version":3,"sources":["/Users/jackjoliet/Documents/marketplace/front/src/containers/Main.js"],"names":["React","Component","Fragment","Switch","Route","withRouter","Redirect","PrivateRoute","connect","db_get_admin","setFooter","Products","Checkout","AdminDashboard","AdminSignIn","NoRoute","Main","props","state","loaded","user","db","setState","mapStateToProps","auth"],"mappings":"goCAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,OAAQC,MAAR,CAAgBC,KAAhB,CAAuBC,UAAvB,CAAmCC,QAAnC,KAAkD,kBAAlD,CACA,MAAOC,CAAAA,YAAP,KAAyB,gCAAzB,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAAQC,YAAR,KAA2B,wBAA3B,CACA,OAAQC,SAAR,KAAwB,yBAAxB,CAEA,MAAOC,CAAAA,QAAP,KAAqB,qBAArB,CACA,MAAOC,CAAAA,QAAP,KAAqB,qBAArB,CAEA,MAAOC,CAAAA,cAAP,KAA2B,wBAA3B,CACA,MAAOC,CAAAA,WAAP,KAAwB,qBAAxB,CAEA,MAAOC,CAAAA,OAAP,KAAoB,gCAApB,C,GAEMC,CAAAA,I,8DACL,cAAYC,KAAZ,CAAmB,sCAClB,sEAAMA,KAAN,GACA,MAAKC,KAAL,CAAa,CACZC,MAAM,CAAE,KADI,CAAb,CAFkB,aAKlB,C,+MAGG,KAAKF,KAAL,CAAWG,IAAX,CAAgBC,EAAhB,EAAsB,O,2EAClB,KAAKJ,KAAL,CAAWR,YAAX,CAAwB,KAAKQ,KAAL,CAAWG,IAAnC,C,SACN,KAAKH,KAAL,CAAWP,SAAX,CAAqB,OAArB,E,OAED,KAAKY,QAAL,kBACI,KAAKJ,KADT,EAECC,MAAM,CAAE,IAFT,I,+FAMQ,CACR,MACC,qBAAC,QAAD,MACE,KAAKD,KAAL,CAAWC,MAAX,EAAsB,oBAAC,MAAD,MAClB,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,CAAsB,SAAS,CAAER,QAAjC,EADkB,CAElB,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,WAAlB,CAA8B,SAAS,CAAEC,QAAzC,EAFkB,CAGlB,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,QAAlB,CAA2B,MAAM,CAAE,gBAAAK,KAAK,QAAI,qBAAC,WAAD,EAAa,MAAM,KAAnB,EAAJ,EAAxC,EAHkB,CAIlB,oBAAC,YAAD,EAAc,KAAK,KAAnB,CAAoB,IAAI,CAAC,kBAAzB,CAA4C,SAAS,CAAEJ,cAAvD,CAAuE,MAAM,CAAC,OAA9E,EAJkB,CAKlB,oBAAC,YAAD,EAAc,KAAK,KAAnB,CAAoB,IAAI,CAAC,yBAAzB,CAAmD,SAAS,CAAEA,cAA9D,CAA8E,MAAM,CAAC,OAArF,EALkB,CAMlB,oBAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,MAAM,CAAE,gBAAAI,KAAK,QAAI,qBAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAJ,EAA7B,EANkB,CAOlB,oBAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,MAAM,CAAE,gBAAAA,KAAK,QAAI,qBAAC,QAAD,EAAU,EAAE,CAAC,QAAb,EAAJ,EAAlC,EAPkB,CAQlB,oBAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,MAAM,CAAE,gBAAAA,KAAK,QAAI,qBAAC,OAAD,MAAJ,EAA7B,EARkB,CADxB,CADD,CAcA,C,kBAlCiBhB,S,EAqCnB,GAAMsB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAL,KAAK,QAAK,CAChCE,IAAI,CAAEF,KAAK,CAACM,IAAN,CAAWJ,IADe,CAAL,EAA7B,CAIA,cAAeZ,CAAAA,OAAO,CAACe,eAAD,CAAiB,CAACd,YAAY,CAAZA,YAAD,CAAeC,SAAS,CAATA,SAAf,CAAjB,CAAP,CAAmDL,UAAU,CAACW,IAAD,CAA7D,CAAf","sourcesContent":["import React, {Component, Fragment} from 'react';\nimport {Switch, Route, withRouter, Redirect} from 'react-router-dom';\nimport PrivateRoute from '../components/Nav/PrivateRoute';\nimport {connect} from \"react-redux\";\nimport {db_get_admin} from '../store/actions/admin';\nimport {setFooter} from '../store/actions/footer';\n\nimport Products from './Customer/Products';\nimport Checkout from './Customer/Checkout';\n\nimport AdminDashboard from './Admin/AdminDashboard';\nimport AdminSignIn from './Admin/AdminSignIn';\n\nimport NoRoute from '../components/Graphics/NoRoute';\n\nclass Main extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tloaded: false\n\t\t};\n\t}\n\n\tasync componentDidMount() {\n\t\tif(this.props.user.db == \"admin\") {\n\t\t\tawait this.props.db_get_admin(this.props.user);\n\t\t\tthis.props.setFooter(\"admin\");\n\t\t}\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tloaded: true\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t{this.state.loaded && (<Switch>\n\t        <Route exact path='/' component={Products}/>\n\t        <Route exact path='/checkout' component={Checkout}/>\n\t        <Route exact path='/admin' render={props => <AdminSignIn signin/>} />\n\t        <PrivateRoute exact path='/admin/dashboard' component={AdminDashboard} portal=\"admin\"/>\n\t        <PrivateRoute exact path='/admin/dashboard/:table' component={AdminDashboard} portal=\"admin\"/>\n\t        <Route path='/' render={props => <Redirect to=\"/\"/>} />\n\t        <Route path='/admin' render={props => <Redirect to=\"/admin\"/>} />\n\t        <Route path='*' render={props => <NoRoute />} />\n\t      </Switch>)}\n      </Fragment>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = state => ({\n  user: state.auth.user\n});\n\nexport default connect(mapStateToProps,{db_get_admin, setFooter})(withRouter(Main));\n"]},"metadata":{},"sourceType":"module"}