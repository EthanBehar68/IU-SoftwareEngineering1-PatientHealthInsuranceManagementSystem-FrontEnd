{"ast":null,"code":"import _toConsumableArray from\"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _defineProperty from\"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/jackjoliet/Documents/marketplace/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component,Fragment}from'react';import{Link,withRouter}from'react-router-dom';import{connect}from\"react-redux\";import moment from'moment';import empty from'is-empty';import{db_admin_get_products,db_admin_get_orders,db_export_table,db_add_product,db_admin_get_product_options}from'../../store/actions/admin';import{admin_data_types}from'../../utils/options';import AdminNavbar from'../../components/Nav/AdminNavbar';import AdminRow from'../../components/Forms/AdminRow';import TableLoading from'../../components/Graphics/TableLoading';import Dropdown from'../../components/Forms/Dropdown';import AdminDetail from'../../components/Forms/AdminDetail';var AdminDashboard=/*#__PURE__*/function(_Component){_inherits(AdminDashboard,_Component);function AdminDashboard(props){var _this;_classCallCheck(this,AdminDashboard);_this=_possibleConstructorReturn(this,_getPrototypeOf(AdminDashboard).call(this,props));_this.imgHandler=function(e){e.preventDefault();if(e.target.files.length>0)_this.imgChange(e,_this.setImgState);};_this.imgChange=function(e,cb){var reader=new FileReader();reader.onload=function(){cb(reader.result);};reader.readAsDataURL(e.target.files[0]);};_this.setImgState=function(blob){_this.setState(_objectSpread({},_this.state,{product:_objectSpread({},_this.state.product,{photo:blob})}));};_this.onChange=function(e){e.preventDefault();_this.setState(_defineProperty({},e.target.id,e.target.value));};_this.onProductChange=function(e){e.preventDefault();_this.setState(_objectSpread({},_this.state,{product:_objectSpread({},_this.state.product,_defineProperty({},e.target.id,e.target.value))}));};_this.exportData=function(){_this.props.db_export_table(_this.state.table,_this.state.productFilter.value,_this.state.table+\" export\");};_this.getData=function _callee(table){var resp,_resp;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(table==\"products\")){_context.next=6;break;}_context.next=3;return _regeneratorRuntime.awrap(_this.props.db_admin_get_products({page:_this.state.page,amount:_this.state.amount}));case 3:resp=_context.sent;if(!resp.complete){_context.next=6;break;}return _context.abrupt(\"return\",true);case 6:if(!(table==\"orders\")){_context.next=12;break;}_context.next=9;return _regeneratorRuntime.awrap(_this.props.db_admin_get_orders({page:_this.state.page,amount:_this.state.amount,productFilter:_this.state.productFilter.value}));case 9:_resp=_context.sent;if(!_resp.complete){_context.next=12;break;}return _context.abrupt(\"return\",true);case 12:case\"end\":return _context.stop();}}});};_this.nextPage=function _callee2(){return _regeneratorRuntime.async(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _regeneratorRuntime.awrap(_this.setState(_objectSpread({},_this.state,{loaded:false,page:_this.state.page+1})));case 2:_context2.next=4;return _regeneratorRuntime.awrap(_this.getData(_this.state.table));case 4:_this.setState(_objectSpread({},_this.state,{loaded:true}));case 5:case\"end\":return _context2.stop();}}});};_this.prevPage=function _callee3(){return _regeneratorRuntime.async(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _regeneratorRuntime.awrap(_this.setState(_objectSpread({},_this.state,{loaded:false,page:_this.state.page-1})));case 2:_context3.next=4;return _regeneratorRuntime.awrap(_this.getData(_this.state.table));case 4:_this.setState(_objectSpread({},_this.state,{loaded:true}));case 5:case\"end\":return _context3.stop();}}});};_this.handleDataChange=function _callee4(value){return _regeneratorRuntime.async(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return _regeneratorRuntime.awrap(_this.setState(_objectSpread({},_this.state,{loaded:false})));case 2:if(empty(value)){_context4.next=5;break;}_context4.next=5;return _regeneratorRuntime.awrap(_this.getData(value.value.toLowerCase()));case 5:_this.props.history.push(\"/admin/dashboard/\".concat(empty(value)?\"\":value.value.toLowerCase()));_this.setState(_objectSpread({},_this.state,{loaded:true}));case 7:case\"end\":return _context4.stop();}}});};_this.handleProductFilterChange=function _callee5(value){return _regeneratorRuntime.async(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return _regeneratorRuntime.awrap(_this.setState(_objectSpread({},_this.state,{loaded:false,productFilter:empty(value)?{value:0,label:\"All\"}:value})));case 2:if(empty(value)){_context5.next=5;break;}_context5.next=5;return _regeneratorRuntime.awrap(_this.getData(_this.state.table));case 5:_this.setState(_objectSpread({},_this.state,{loaded:true}));case 6:case\"end\":return _context5.stop();}}});};_this.locationSearch=function _callee6(){return _regeneratorRuntime.async(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return _regeneratorRuntime.awrap(_this.setState(_objectSpread({},_this.state,{loaded:false})));case 2:_context6.next=4;return _regeneratorRuntime.awrap(_this.getData(_this.state.table));case 4:_this.setState(_objectSpread({},_this.state,{loaded:true}));case 5:case\"end\":return _context6.stop();}}});};_this.onHide=function(){_this.setState(_objectSpread({},_this.state,{currentData:{}}));document.body.style.overflow=\"auto\";};_this.setDetail=function(data){_this.setState(_objectSpread({},_this.state,{currentData:data}));document.body.style.overflow=\"hidden\";};_this.addProduct=function(e){e.preventDefault();_this.props.db_add_product(_objectSpread({},_this.state.product,{sizes:JSON.stringify(_this.state.product.sizes)}));};_this.handleSizesChange=function(e){_this.setState(_objectSpread({},_this.state,{product:_objectSpread({},_this.state.product,{sizes:_this.state.product.sizes.includes(e.target.id)?_this.state.product.sizes.filter(function(size){return size!=e.target.id;}):[].concat(_toConsumableArray(_this.state.product.sizes),[e.target.id])})}));};_this.state={loaded:false,table:!empty(_this.props.match.params)?_this.props.match.params.table:\"products\",page:1,amount:25,currentData:{},location:\"\",options:true,small:false,productFilter:{label:\"All\",value:0},product:{name:'',price:'',photo:'',sizes:[]}};_this.getData=_this.getData.bind(_assertThisInitialized(_this));_this.nextPage=_this.nextPage.bind(_assertThisInitialized(_this));_this.prevPage=_this.prevPage.bind(_assertThisInitialized(_this));_this.locationSearch=_this.locationSearch.bind(_assertThisInitialized(_this));_this.exportData=_this.exportData.bind(_assertThisInitialized(_this));return _this;}_createClass(AdminDashboard,[{key:\"resize\",value:function resize(){var currentHideNav=window.innerWidth<=760;if(currentHideNav!==this.state.small){if(currentHideNav)this.setState({small:true,options:false});if(!currentHideNav){this.setState({small:false,options:true});}}}},{key:\"componentDidMount\",value:function componentDidMount(){return _regeneratorRuntime.async(function componentDidMount$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:window.addEventListener(\"resize\",this.resize.bind(this));this.resize();_context7.next=4;return _regeneratorRuntime.awrap(this.props.db_admin_get_product_options());case 4:_context7.next=6;return _regeneratorRuntime.awrap(this.getData(this.state.table));case 6:this.setState({loaded:true});case 7:case\"end\":return _context7.stop();}}},null,this);}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){return _regeneratorRuntime.async(function componentWillReceiveProps$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:if(nextProps.match.params!=this.props.match.params){this.setState(_objectSpread({},this.state,{table:nextProps.match.params.table}));}case 1:case\"end\":return _context8.stop();}}},null,this);}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,table=_this$state.table,radius=_this$state.radius,page=_this$state.page,currentData=_this$state.currentData,small=_this$state.small,statusFilter=_this$state.statusFilter,product=_this$state.product;var _this$props=this.props,admin_data=_this$props.admin_data,productOptions=_this$props.productOptions;var data=admin_data.map(function(d){return React.createElement(AdminRow,{key:d.id,data:d,onClick:_this2.setDetail,table:table,small:small});});return React.createElement(Fragment,null,React.createElement(AdminNavbar,{active:\"home\"}),!empty(currentData)&&React.createElement(AdminDetail,{hide:this.onHide,data:currentData,table:table}),React.createElement(\"div\",{className:\"dashboard-container admin\"},React.createElement(\"div\",{className:\"find-container\"},this.state.options&&React.createElement(\"div\",{className:\"find-sidebar admin\"},React.createElement(\"div\",{className:\"find-sidebar-container admin\"},React.createElement(\"span\",{className:\"options-close\",onClick:function onClick(){return _this2.setState({options:false});}},\"X\"),React.createElement(\"span\",{className:\"sidebar-subtitle admin\"},\"Table:\"),React.createElement(\"div\",{className:\"sb-dropdown-container\"},React.createElement(Dropdown,{options:admin_data_types,onChange:this.handleDataChange,value:empty(table)?null:{label:table,value:table}})),table==\"orders\"&&React.createElement(Fragment,null,React.createElement(\"span\",{className:\"sidebar-subtitle admin\"},\"Product Filter:\"),React.createElement(\"div\",{className:\"sb-dropdown-container\"},React.createElement(Dropdown,{options:productOptions,onChange:this.handleProductFilterChange,value:this.state.productFilter}))),table==\"orders\"&&React.createElement(Fragment,null,React.createElement(\"span\",{className:\"sidebar-subtitle admin\"},\"XLSX Export:\"),React.createElement(\"button\",{className:\"sign-in-btn admin\",style:{margin:\"0\"},onClick:function onClick(){return _this2.exportData();}},\"Export\")),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"br\",null),table==\"products\"&&React.createElement(Fragment,null,React.createElement(\"span\",{className:\"sidebar-subtitle admin\"},\"New Product:\"),React.createElement(\"form\",null,React.createElement(\"label\",null,\"Name\"),React.createElement(\"input\",{type:\"text\",id:\"name\",className:\"apparel-input\",value:product.name,onChange:this.onProductChange}),React.createElement(\"label\",null,\"Price\"),React.createElement(\"input\",{className:\"apparel-input\",id:\"price\",type:\"number\",pattern:\"\\\\d*\",value:product.price,onChange:this.onProductChange}),React.createElement(\"label\",null,\"Photo\"),React.createElement(\"input\",{className:\"file-input\",type:\"file\",accept:\"image/*\",name:\"IMAGE\",onChange:this.imgHandler}),React.createElement(\"div\",{className:\"checkbox-container\"},React.createElement(\"div\",{className:\"checkbox-div\"},React.createElement(\"input\",{type:\"checkbox\",onChange:this.handleSizesChange,id:\"XS\",value:\"XS\",checked:this.state.product.sizes.includes(\"XS\")}),React.createElement(\"label\",{htmlFor:\"XS\"},\"XS\")),React.createElement(\"div\",{className:\"checkbox-div\"},React.createElement(\"input\",{type:\"checkbox\",onChange:this.handleSizesChange,id:\"S\",value:\"S\",checked:this.state.product.sizes.includes(\"S\")}),React.createElement(\"label\",{htmlFor:\"S\"},\"S\")),React.createElement(\"div\",{className:\"checkbox-div\"},React.createElement(\"input\",{type:\"checkbox\",onChange:this.handleSizesChange,id:\"M\",value:\"M\",checked:this.state.product.sizes.includes(\"M\")}),React.createElement(\"label\",{htmlFor:\"M\"},\"M\")),React.createElement(\"div\",{className:\"checkbox-div\"},React.createElement(\"input\",{type:\"checkbox\",onChange:this.handleSizesChange,id:\"L\",value:\"L\",checked:this.state.product.sizes.includes(\"L\")}),React.createElement(\"label\",{htmlFor:\"L\"},\"L\")),React.createElement(\"div\",{className:\"checkbox-div\"},React.createElement(\"input\",{type:\"checkbox\",onChange:this.handleSizesChange,id:\"XL\",value:\"XL\",checked:this.state.product.sizes.includes(\"XL\")}),React.createElement(\"label\",{htmlFor:\"XL\"},\"XL\")),React.createElement(\"div\",{className:\"checkbox-div\"},React.createElement(\"input\",{type:\"checkbox\",onChange:this.handleSizesChange,id:\"XXL\",value:\"XXL\",checked:this.state.product.sizes.includes(\"XXL\")}),React.createElement(\"label\",{htmlFor:\"XXL\"},\"XXL\")),React.createElement(\"div\",{className:\"checkbox-div\",style:{width:\"5rem\"}},React.createElement(\"input\",{type:\"checkbox\",onChange:this.handleSizesChange,id:\"ONE-SIZE\",value:\"ONE-SIZE\",checked:this.state.product.sizes.includes(\"ONE-SIZE\")}),React.createElement(\"label\",{htmlFor:\"ONE-SIZE\"},\"ONE-SIZE\"))),React.createElement(\"button\",{className:\"sign-in-btn admin\",onClick:this.addProduct},\"Add\"))))),React.createElement(\"div\",{className:\"pagination-container\"},React.createElement(\"div\",{className:\"find-table-section admin\"},React.createElement(\"div\",{className:\"find-table-header\"},React.createElement(\"span\",{className:\"find-table-header-title\"},table),React.createElement(\"div\",{className:\"find-options admin\",onClick:function onClick(){return _this2.setState({options:!_this2.state.options});}},React.createElement(\"svg\",{className:\"blue-options admin\",xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",viewBox:\"0 0 24 24\"},React.createElement(\"path\",{d:\"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z\"}),React.createElement(\"path\",{d:\"M0 0h24v24H0z\",fill:\"none\"})),React.createElement(\"span\",{className:\"options-btn admin\"},\"Options\"))),React.createElement(\"table\",{className:\"find-table\"},React.createElement(\"tbody\",null,table==\"products\"&&React.createElement(\"tr\",{className:\"find-row heading\"},React.createElement(\"th\",null,\"ID\"),React.createElement(\"th\",null,\"PHOTO\"),React.createElement(\"th\",null,\"PRODUCT\"),React.createElement(\"th\",null,\"PRICE\"),React.createElement(\"th\",null,\"ACTIVE\")),table==\"orders\"&&React.createElement(\"tr\",{className:\"find-row heading\"},React.createElement(\"th\",{style:small?{display:\"none\"}:{}},\"ID\"),React.createElement(\"th\",null,\"NAME\"),React.createElement(\"th\",null,\"PRODUCT\"),React.createElement(\"th\",null,\"QUANTITY\"),React.createElement(\"th\",null,\"SIZE\"),React.createElement(\"th\",{style:small?{display:\"none\"}:{}},\"TOTAL\"),React.createElement(\"th\",{style:small?{display:\"none\"}:{}},\"ORG\")),this.state.loaded&&React.createElement(Fragment,null,data,data.length==0&&React.createElement(\"tr\",{className:\"find-row\"},React.createElement(\"td\",{colSpan:\"5\"},\"There are no items to see.\"))))),!this.state.loaded&&React.createElement(TableLoading,null)),React.createElement(\"div\",{className:\"pagination-div\"},page!=1&&React.createElement(\"span\",{className:\"pagination-btn\",onClick:function onClick(){return _this2.prevPage();}},\"Previous\"),admin_data.length==this.state.amount&&React.createElement(\"span\",{className:\"pagination-btn\",onClick:function onClick(){return _this2.nextPage();}},\"Next\"))))));}}]);return AdminDashboard;}(Component);var mapStateToProps=function mapStateToProps(state){return{user:state.auth.user,admin_data:state.admin_data,productOptions:state.productOptions};};export default connect(mapStateToProps,{db_admin_get_products:db_admin_get_products,db_admin_get_orders:db_admin_get_orders,db_export_table:db_export_table,db_add_product:db_add_product,db_admin_get_product_options:db_admin_get_product_options})(withRouter(AdminDashboard));","map":{"version":3,"sources":["/Users/jackjoliet/Documents/marketplace/front/src/containers/Admin/AdminDashboard.js"],"names":["React","Component","Fragment","Link","withRouter","connect","moment","empty","db_admin_get_products","db_admin_get_orders","db_export_table","db_add_product","db_admin_get_product_options","admin_data_types","AdminNavbar","AdminRow","TableLoading","Dropdown","AdminDetail","AdminDashboard","props","imgHandler","e","preventDefault","target","files","length","imgChange","setImgState","cb","reader","FileReader","onload","result","readAsDataURL","blob","setState","state","product","photo","onChange","id","value","onProductChange","exportData","table","productFilter","getData","page","amount","resp","complete","nextPage","loaded","prevPage","handleDataChange","toLowerCase","history","push","handleProductFilterChange","label","locationSearch","onHide","currentData","document","body","style","overflow","setDetail","data","addProduct","sizes","JSON","stringify","handleSizesChange","includes","filter","size","match","params","location","options","small","name","price","bind","currentHideNav","window","innerWidth","addEventListener","resize","nextProps","radius","statusFilter","admin_data","productOptions","map","d","margin","width","display","mapStateToProps","user","auth"],"mappings":"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","sourcesContent":["import React, {Component, Fragment} from 'react';\nimport {Link, withRouter} from 'react-router-dom';\nimport {connect} from \"react-redux\";\nimport moment from 'moment';\nimport empty from 'is-empty';\n\nimport {db_admin_get_products, db_admin_get_orders, db_export_table, db_add_product, db_admin_get_product_options} from '../../store/actions/admin';\nimport {admin_data_types} from '../../utils/options';\n\nimport AdminNavbar from '../../components/Nav/AdminNavbar';\nimport AdminRow from '../../components/Forms/AdminRow';\nimport TableLoading from '../../components/Graphics/TableLoading';\nimport Dropdown from '../../components/Forms/Dropdown';\nimport AdminDetail from '../../components/Forms/AdminDetail';\n\nclass AdminDashboard extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tloaded: false,\n\t\t\ttable: !empty(this.props.match.params) ? this.props.match.params.table : \"products\",\n\t\t\tpage: 1,\n\t\t\tamount: 25,\n\t\t\tcurrentData: {},\n\t\t\tlocation: \"\",\n\t\t\toptions: true,\n\t\t\tsmall: false,\n\t\t\tproductFilter: {label: \"All\", value: 0},\n\t\t\tproduct: {\n\t\t\t\tname: '',\n\t\t\t\tprice: '',\n\t\t\t\tphoto: '',\n        sizes: []\n\t\t\t}\n\t\t};\n\t\tthis.getData = this.getData.bind(this);\n\t\tthis.nextPage = this.nextPage.bind(this);\n\t\tthis.prevPage = this.prevPage.bind(this);\n\t\tthis.locationSearch = this.locationSearch.bind(this);\n\t\tthis.exportData = this.exportData.bind(this);\n\t}\n\n\tresize() {\n    let currentHideNav = (window.innerWidth <= 760);\n    if (currentHideNav !== this.state.small) {\n        if(currentHideNav) this.setState({small: true, options: false});\n        if(!currentHideNav) {\n\t\t    \tthis.setState({small: false, options: true});\n\t\t    }\n    }\n\t}\n\n  async componentDidMount() {\n  \twindow.addEventListener(\"resize\", this.resize.bind(this));\n    this.resize();\n    await this.props.db_admin_get_product_options();\n  \tawait this.getData(this.state.table);\n  \tthis.setState({\n  \t\tloaded: true\n  \t});\n  }\n\n  async componentWillReceiveProps(nextProps) {\n\t\tif(nextProps.match.params != this.props.match.params) {\n\t\t\tthis.setState({\n\t\t\t\t...this.state,\n\t\t\t\ttable: nextProps.match.params.table\n\t\t\t})\n\t\t}\n\t}\n\n\timgHandler = e => {\n  \te.preventDefault();\n  \tif(e.target.files.length > 0) this.imgChange(e, this.setImgState);\n  }\n\n  imgChange = (e, cb) => {\n\t\tvar reader = new FileReader();\n    reader.onload = function() { cb(reader.result) };\n    reader.readAsDataURL(e.target.files[0]);\n\t}\n\n\tsetImgState = blob => {\n\t\tthis.setState({\n    \t...this.state,\n    \tproduct: {\n    \t\t...this.state.product,\n    \t\tphoto: blob\n    \t}\n    });\n\t}\n\n  onChange = e => {\n  \te.preventDefault();\n    this.setState({\n    \t[e.target.id]: e.target.value\n    });\n  };\n\n  onProductChange = e => {\n  \te.preventDefault();\n    this.setState({\n    \t...this.state,\n    \tproduct: {\n    \t\t...this.state.product,\n    \t\t[e.target.id]: e.target.value\n    \t}\n    });\n  };\n\n  exportData = () => {\n  \tthis.props.db_export_table(this.state.table, this.state.productFilter.value, this.state.table + \" export\");\n  }\n\n  getData = async table => {\n  \tif (table == \"products\") {\n  \t\tconst resp = await this.props.db_admin_get_products({page: this.state.page, amount: this.state.amount});\n  \t\tif(resp.complete) return true;\n  \t}\n  \tif (table == \"orders\") {\n  \t\tconst resp = await this.props.db_admin_get_orders({page: this.state.page, amount: this.state.amount, productFilter: this.state.productFilter.value});\n  \t\tif(resp.complete) return true;\n  \t}\n  }\n\n  nextPage = async () => {\n  \tawait this.setState({\n  \t\t...this.state,\n  \t\tloaded: false,\n  \t\tpage: this.state.page + 1\n  \t});\n  \tawait this.getData(this.state.table);\n  \tthis.setState({\n  \t\t...this.state,\n  \t\tloaded: true\n  \t})\n  }\n\n  prevPage = async () => {\n  \tawait this.setState({\n  \t\t...this.state,\n  \t\tloaded: false,\n  \t\tpage: this.state.page - 1\n  \t});\n  \tawait this.getData(this.state.table);\n  \tthis.setState({\n  \t\t...this.state,\n  \t\tloaded: true\n  \t})\n  }\n\n  handleDataChange = async value => {\n  \tawait this.setState({\n  \t\t...this.state,\n  \t\tloaded: false\n  \t});\n  \tif(!empty(value)) await this.getData(value.value.toLowerCase());\n  \tthis.props.history.push(`/admin/dashboard/${empty(value) ? \"\" : value.value.toLowerCase()}`);\n  \tthis.setState({\n  \t\t...this.state,\n  \t\tloaded: true\n  \t});\n  }\n\n  handleProductFilterChange = async value => {\n  \tawait this.setState({\n  \t\t...this.state,\n  \t\tloaded: false,\n  \t\tproductFilter: empty(value) ? {value: 0, label: \"All\"} : value\n  \t});\n  \tif(!empty(value)) await this.getData(this.state.table);\n  \tthis.setState({\n  \t\t...this.state,\n  \t\tloaded: true\n  \t});\n  }\n\n  locationSearch = async () => {\n  \tawait this.setState({\n  \t\t...this.state,\n  \t\tloaded: false\n  \t});\n  \tawait this.getData(this.state.table);\n  \tthis.setState({\n  \t\t...this.state,\n  \t\tloaded: true\n  \t})\n  }\n\n  onHide = () => {\n  \tthis.setState({...this.state, currentData: {}});\n  \tdocument.body.style.overflow = \"auto\";\n  }\n\n  setDetail = data => {\n  \tthis.setState({...this.state, currentData: data})\n  \tdocument.body.style.overflow = \"hidden\";\n  }\n\n  addProduct = e => {\n  \te.preventDefault();\n  \tthis.props.db_add_product({...this.state.product, sizes: JSON.stringify(this.state.product.sizes)});\n  }\n\n  handleSizesChange = e => {\n    this.setState({\n      ...this.state,\n      product: {\n        ...this.state.product,\n        sizes: this.state.product.sizes.includes(e.target.id) ? this.state.product.sizes.filter(size => size != e.target.id) : [...this.state.product.sizes, e.target.id]\n      }\n    })\n  }\n\n\trender() {\n\t\tconst {table, radius, page, currentData, small, statusFilter, product} = this.state;\n\t\tconst {admin_data, productOptions} = this.props;\n\n\t\tlet data = admin_data.map(d => \n\t\t\t<AdminRow \n\t\t\t\tkey={d.id}\n\t\t\t\tdata={d}\n\t\t\t\tonClick={this.setDetail}\n\t\t\t\ttable={table}\n\t\t\t\tsmall={small}\n\t\t\t/>\n\t\t);\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<AdminNavbar active=\"home\" />\n\t\t\t\t{!empty(currentData) && (<AdminDetail hide={this.onHide} data={currentData} table={table}/>)}\n\t\t\t\t<div className=\"dashboard-container admin\">\n\t\t\t\t\t<div className=\"find-container\">\n\t\t\t\t\t\t{this.state.options && (<div className=\"find-sidebar admin\">\n\t\t\t\t\t\t\t<div className=\"find-sidebar-container admin\">\n\t\t\t\t\t\t\t\t<span className=\"options-close\" onClick={() => this.setState({options: false})}>X</span>\n\t\t\t\t\t\t\t\t<span className=\"sidebar-subtitle admin\">Table:</span>\n\t\t\t\t\t\t\t\t<div className=\"sb-dropdown-container\"><Dropdown options={admin_data_types} onChange={this.handleDataChange} value={empty(table) ? null : {label: table, value: table}} /></div>\n\t\t\t\t\t\t\t\t{table == \"orders\" && (<Fragment><span className=\"sidebar-subtitle admin\">Product Filter:</span>\n\t\t\t\t\t\t\t\t<div className=\"sb-dropdown-container\"><Dropdown options={productOptions} onChange={this.handleProductFilterChange} value={this.state.productFilter} /></div></Fragment>)}\n\t\t\t\t\t\t\t\t{table == \"orders\" && (<Fragment><span className=\"sidebar-subtitle admin\">XLSX Export:</span>\n\t\t\t\t\t\t\t\t<button className=\"sign-in-btn admin\" style={{margin: \"0\"}} onClick={() => this.exportData()}>Export</button></Fragment>)}\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t{table == \"products\" && (<Fragment><span className=\"sidebar-subtitle admin\">New Product:</span>\n\t\t\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t\t\t<label>Name</label>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" id=\"name\" className=\"apparel-input\" value={product.name} onChange={this.onProductChange}/>\n\t\t\t\t\t\t\t\t\t<label>Price</label>\n\t\t\t\t\t\t\t\t\t<input className=\"apparel-input\" id=\"price\" type=\"number\" pattern=\"\\d*\" value={product.price} onChange={this.onProductChange}/>\n\t\t\t\t\t\t\t\t\t<label>Photo</label>\n\t\t\t\t\t\t\t\t\t<input className=\"file-input\" type=\"file\" accept=\"image/*\" name=\"IMAGE\" onChange={this.imgHandler}/>\n                  <div className=\"checkbox-container\">\n                    <div className=\"checkbox-div\">\n                      <input type=\"checkbox\" onChange={this.handleSizesChange} id=\"XS\" value=\"XS\" checked={this.state.product.sizes.includes(\"XS\")}/>\n                      <label htmlFor=\"XS\">XS</label>\n                    </div>\n                    <div className=\"checkbox-div\">\n                      <input type=\"checkbox\" onChange={this.handleSizesChange} id=\"S\" value=\"S\" checked={this.state.product.sizes.includes(\"S\")}/>\n                      <label htmlFor=\"S\">S</label>\n                    </div>\n                    <div className=\"checkbox-div\">\n                      <input type=\"checkbox\" onChange={this.handleSizesChange} id=\"M\" value=\"M\" checked={this.state.product.sizes.includes(\"M\")}/>\n                      <label htmlFor=\"M\">M</label>\n                    </div>\n                    <div className=\"checkbox-div\">\n                      <input type=\"checkbox\" onChange={this.handleSizesChange} id=\"L\" value=\"L\" checked={this.state.product.sizes.includes(\"L\")}/>\n                      <label htmlFor=\"L\">L</label>\n                    </div>\n                    <div className=\"checkbox-div\">\n                      <input type=\"checkbox\" onChange={this.handleSizesChange} id=\"XL\" value=\"XL\" checked={this.state.product.sizes.includes(\"XL\")}/>\n                      <label htmlFor=\"XL\">XL</label>\n                    </div>\n                    <div className=\"checkbox-div\">\n                      <input type=\"checkbox\" onChange={this.handleSizesChange} id=\"XXL\" value=\"XXL\" checked={this.state.product.sizes.includes(\"XXL\")}/>\n                      <label htmlFor=\"XXL\">XXL</label>\n                    </div>\n                    <div className=\"checkbox-div\" style={{width: \"5rem\"}}>\n                      <input type=\"checkbox\" onChange={this.handleSizesChange} id=\"ONE-SIZE\" value=\"ONE-SIZE\" checked={this.state.product.sizes.includes(\"ONE-SIZE\")}/>\n                      <label htmlFor=\"ONE-SIZE\">ONE-SIZE</label>\n                    </div>\n                  </div>\n\t\t\t\t\t\t\t\t\t<button className=\"sign-in-btn admin\" onClick={this.addProduct}>Add</button>\n\t\t\t\t\t\t\t\t</form></Fragment>)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>)}\n\t\t\t\t\t\t<div className=\"pagination-container\">\n\t\t\t\t\t\t\t<div className=\"find-table-section admin\">\n\t\t\t\t\t\t\t\t<div className=\"find-table-header\">\n\t\t\t\t\t\t\t\t\t<span className=\"find-table-header-title\">{table}</span>\n\t\t\t\t\t\t\t\t\t<div className=\"find-options admin\" onClick={() => this.setState({options: !this.state.options})}><svg className=\"blue-options admin\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path d=\"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/></svg><span className=\"options-btn admin\">Options</span></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<table className=\"find-table\">\n\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t{table == \"products\" && (<tr className=\"find-row heading\">\n\t\t\t\t\t\t\t\t\t\t\t<th>ID</th>\n\t\t\t\t\t\t\t\t\t\t\t<th>PHOTO</th>\n\t\t\t\t\t\t\t\t\t\t\t<th>PRODUCT</th>\n\t\t\t\t\t\t\t\t\t\t\t<th>PRICE</th>\n\t\t\t\t\t\t\t\t\t\t\t<th>ACTIVE</th>\n\t\t\t\t\t\t\t\t\t\t</tr>)}\n\t\t\t\t\t\t\t\t\t\t{table == \"orders\" && (<tr className=\"find-row heading\">\n\t\t\t\t\t\t\t\t\t\t\t<th style={small ? {display: \"none\"} : {}}>ID</th>\n\t\t\t\t\t\t\t\t\t\t\t<th>NAME</th>\n\t\t\t\t\t\t\t\t\t\t\t<th>PRODUCT</th>\n\t\t\t\t\t\t\t\t\t\t\t<th>QUANTITY</th>\n\t\t\t\t\t\t\t\t\t\t\t<th>SIZE</th>\n\t\t\t\t\t\t\t\t\t\t\t<th style={small ? {display: \"none\"} : {}}>TOTAL</th>\n\t\t\t\t\t\t\t\t\t\t\t<th style={small ? {display: \"none\"} : {}}>ORG</th>\n\t\t\t\t\t\t\t\t\t\t</tr>)}\n\t\t\t\t\t\t\t\t\t\t{this.state.loaded && (\n\t\t\t\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t{data}\n\t\t\t\t\t\t\t\t\t\t\t\t{data.length == 0 && (<tr className=\"find-row\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td colSpan=\"5\">There are no items to see.</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>)}\n\t\t\t\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t{!this.state.loaded && (<TableLoading />)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"pagination-div\">\n\t\t\t\t\t\t\t\t{page != 1 && (<span className=\"pagination-btn\" onClick={() => this.prevPage()}>Previous</span>)}\n\t\t\t\t\t\t\t\t{admin_data.length == this.state.amount && (<span className=\"pagination-btn\" onClick={() => this.nextPage()}>Next</span>)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = state => ({\n  user: state.auth.user,\n  admin_data: state.admin_data,\n  productOptions: state.productOptions\n});\n\nexport default connect(mapStateToProps,{db_admin_get_products, db_admin_get_orders, db_export_table, db_add_product, db_admin_get_product_options})(withRouter(AdminDashboard));\n\n"]},"metadata":{},"sourceType":"module"}